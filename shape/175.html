<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Niamoto - 73.0</title>
    <link rel="stylesheet" href="../js/vendor/tailwindcss/2.2.19_dist_tailwind.css">
    <link rel="stylesheet" href="../js/vendor/leaflet/1.9.4_leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    
<script src="../js/shape_list.js"></script>

<style>
    #shape-type-list li, #shape-list li {
        list-style: none;
        text-transform: capitalize;
    }

    .shape-type-link, .shape-link {
        display: block;
        padding: 10px;
        border-radius: 5px;
        text-decoration: none;
    }

    .shape-type-link:hover, .shape-link:hover {
        background-color: #f0f0f0;
    }

    .shape-type-link.active, .shape-link.active {
        background-color: #3498db;
        color: #fff;
    }

    #shapeMap, #allShapesMap {
        position: relative;
        height: 300px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    #allShapesMap {
        height: 400px;
    }

    .chart-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    .chart-container > div {
        flex: 1 1 calc(33.333% - 10px);
        margin: 5px;
    }
    .custom-tooltip {
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #ccc;
    padding: 5px;
    border-radius: 5px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    font-size: 12px;
    max-width: 300px;
    word-wrap: break-word;
}
</style>

    <style>
        .gauge {
            height: 349px;
        }

        ul {
            list-style-type: none;
        }

        .loader-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <nav class="nav-bg p-4 fixed w-full top-0 shadow-md z-50 custom-nav">
    <div class="container mx-auto flex flex-wrap items-center justify-between">
        <div class="flex items-center flex-shrink-0 text-white mr-6">
            <a id="home-link" class="inline-flex items-center py-2 px-4 text-white no-underline" href="#" data-link="index.html">
                <span class="site-title">Niamoto</span>
            </a>
        </div>

        <div class="block lg:hidden">
            <button id="nav-toggle"
                class="flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white">
                <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <title>Menu</title>
                    <path d="M0 3h20v2H0zm0 6h20v2H0zm0 6h20v2H0z" />
                </svg>
            </button>
        </div>
        <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block pt-6 lg:pt-0" id="nav-content">
            <ul class="list-reset lg:flex justify-end flex-1 items-center">
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="index.html">
                        <i class="fas fa-home menu-icon"></i>Accueil
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#introduction">Introduction</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#project">Projet</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#objective">Objectifs</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#context">Contexte</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#flora">Flore</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="methodology.html">
                        <i class="fas fa-flask menu-icon"></i>Méthodologie
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="methodology.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="methodology.html#methodes">Nos méthodes</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="methodology.html#faq">FAQ</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="trees.html">
                        <i class="fas fa-leaf menu-icon"></i>Arbres
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="trees.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="trees.html#learnTaxon">Étudier les
                arbres</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="trees.html#taxon">Les arbres de
                Nouvelle-Calédonie</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="plots.html">
                        <i class="fas fa-map-marked-alt menu-icon"></i>Peuplements
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="plots.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="plots.html#learnPlot">Étudier les
                            peuplements forestiers</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="plots.html#plot">Les
                peuplements forestiers de Nouvelle-Calédonie</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="forests.html">
                        <i class="fas fa-tree menu-icon"></i>Forêt
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#learnForest">Étudier les
                forêts</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#forestPN">La forêt de la
                province Nord</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#forestPS">La forêt de la
                province Sud</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="resources.html">
                        <i class="fas fa-book menu-icon"></i>Ressources
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#equipe">L'équipe</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#article">Articles</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#academic">Académique</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#media-production">Médias</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
  document.getElementById('nav-toggle').onclick = function () {
    document.getElementById('nav-content').classList.toggle('hidden');
  };

  // Function to adjust the navigation links based on page depth
  function adjustNavLinks(depth) {
    document.querySelectorAll('a[data-link]').forEach(link => {
      link.href = depth + link.getAttribute('data-link');
    });
  }

  // Adjust the navigation links based on the depth
  adjustNavLinks("../");
</script>

<style>
    .site-title {
        font-family: 'Arial Black', sans-serif; /* Custom font for a bold effect */
        font-size: 2rem; /* Increased font size */
        text-transform: uppercase; /* Uppercase letters for visibility */
        letter-spacing: 2px; /* Spacing between letters */
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7); /* Text shadow for better visibility */
        transition: color 0.3s; /* Smooth transition for hover effect */
    }

    .site-title:hover {
        color: #ffdd57; /* Change color on hover */
    }

    .text-contour {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    }

    .nav-bg {
        background-color: rgba(34, 139, 34, 0.8); /* Fond vert semi-transparent */
        transition: background-color 0.3s;
    }

    .nav-bg:hover {
        background-color: rgba(34, 139, 34, 1); /* Fond vert opaque au survol */
    }

    .group:hover .group-hover\:block {
        display: block;
    }

    .custom-nav {
        z-index: 500;
    }

    .custom-dropdown {
        z-index: 500;
    }

    .nav-link:hover {
        background-color: rgba(255, 255, 255, 0.2); /* Fond blanc transparent au survol */
        border-radius: 4px;
    }

    .menu-icon {
        margin-right: 8px;
    }
</style>
    <div class="flex">
        
<aside class="w-1/4 p-4 mt-28">
    <h2 class="font-semibold text-lg mb-4">Shape Types</h2>
    <ul id="shape-type-list" class="list-disc pl-5">
        <!-- The list of shape types will be generated by JavaScript -->
    </ul>
</aside>

        <div class="w-full">
            
<div id="allShapesMap" class="mt-28"></div>

<div class="rounded overflow-hidden shadow-lg mb-2 mt-8">
    <div class="px-6 py-4">
        <div class="font-bold text-4xl mb-2">73.0</div>
    </div>
</div>

<div class="chart-container">
    <!-- Section for general information -->
    <div>
        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
            <h2 class="font-bold text-xl mb-2">General Information</h2>
            
                
                    
                        
                        
                            <p>Shape Area (Total Area): 9432.041317120666</p>
                        
                    
                
                    
                
            
                
                    
                        
                        
                            <p>Forest Area (Forest Area): 8940.566494880713</p>
                        
                    
                
                    
                
            
                
                    
                        
                        
                            <p>Number of Families (Number of Families): 69</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Number of Species (Number of Species): 300</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Number of Occurrences (Number of Occurrences): 2134</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Average Rainfall (Average Rainfall): 2807.66455078125</p>
                        
                    
                
                    
                        
                        
                            <p>Average Rainfall (Rainfall Range): {"min": 2380.0, "max": 3170.0}</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Altitude (Median Altitude): 473.0</p>
                        
                    
                
                    
                        
                        
                            <p>Altitude (Maximum Altitude): 1052.0</p>
                        
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
        </div>
    </div>

    <!-- Section for shape map -->
    <div>
        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
            <h2 class="font-bold text-xl mb-2">Shape Map</h2>
            <div id="shapeMap" style="height: 400px; position: relative;">
                <div class="loader-container" id="shapeMapLoader">
                    <div class="loader"></div>
                </div>
                <!-- The Leaflet map will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Section for forest map -->
    <div>
        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
            <h2 class="font-bold text-xl mb-2">Forest Map</h2>
            <div id="forestMap" style="height: 400px; position: relative;">
                <div class="loader-container" id="forestMapLoader">
                    <div class="loader"></div>
                </div>
                <!-- The Leaflet map will be loaded here -->
            </div>
        </div>
    </div>
</div>

<div class="flex flex-wrap -mx-2">
    

    

    
    
        
    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
    
        
            
            

            
            
                
            
                
            
                
                    <div class="w-1/2 px-2 mb-4">
                        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
                            
    
        
            <h2 class="font-bold text-xl mb-2">Elevation Distribution</h2>
        
    
    
        <canvas id="elevationDistributionChart"></canvas>
    
    
                        </div>
                    </div>
                
            

    
        
    
        
            
            

            
            
                
                    <div class="w-1/2 px-2 mb-4">
                        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
                            
    
        
            <h2 class="font-bold text-xl mb-2">Forest Fragment Distribution</h2>
        
    
    
        <canvas id="forestFragmentationChart"></canvas>
    
    
                        </div>
                    </div>
                
            
                
                    <div class="w-1/2 px-2 mb-4">
                        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
                            
    
        
            <h2 class="font-bold text-xl mb-2">Fragmentation</h2>
        
    
    
        <div class="gauge" id="forest_fragmentationeffective_mesh_sizeGauge"></div>
    
    
                        </div>
                    </div>
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
</div>

        </div>
    </div>
    <footer class="bg-green-700 text-white p-4 mt-8">
        <div class="container mx-auto">
            <div class="flex justify-center mb-4">
                <div class="bg-white p-2 rounded-lg shadow-md flex justify-center">
                    <figure class="mx-2"><img class="img-fluid" src="../files/ps_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/pn_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/amap_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/herbarium_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/iac_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/ird_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/cirad_100.png"></figure>
                </div>
            </div>
            <div class="text-center">
                <p>Niamoto - Portail de la forêt de Nouvelle-Calédonie</p>
                <a class="inline-block py-2 px-4 text-white no-underline" href="https://github.com/niamoto/niamoto" target="_blank">
                    <span class="fab fa-github fa-lg" aria-hidden="true"></span> Github
                </a>
            </div>
        </div>
    </footer>
    <script src="../js/vendor/chart/4.4.2_chart.js"></script>
    <script src="../js/vendor/d3/7.8.5_d3.js"></script>
    <script src="../js/vendor/jquery/3.6.0_jquery.js"></script>
    <script src="../js/vendor/raphael/2.3.0_raphael.js"></script>
    <script src="../js/vendor/justgage/1.6.1_justgage.js"></script>
    <script src="../js/vendor/leaflet/1.9.4_leaflet.js"></script>
    
<script>
    var shape = {"elevation_elevation_distribution": {"altitudes": [41.0, 141.0, 241.0, 341.0, 441.0, 541.0, 641.0, 741.0, 841.0, 941.0, 1041.0], "forest": [142.24396754499978, 735.6680196467958, 1476.892444275818, 1569.128766980779, 1456.8893863398023, 1421.3283944535524, 1157.954798296014, 705.6634327427723, 268.9300011397652, 28.89330590757808, 1.1112809964453108], "non_forest": [18.89177693957028, 73.3445457653905, 113.3506616374217, 114.46194263386701, 47.78508284714836, 65.56557879027334, 31.1158679004687, 11.112809964453108, 12.224090960898419, 3.333842989335932, 0.0]}, "elevation_max": 1052.0, "elevation_median": 473.0, "forest_area": "8940.566494880713", "forest_coordinates": "{\"type\": \"MultiPolygon\", \"coordinates\": [[[[165.1170514556, -20.886590500699995], [165.1176840686, -20.8855429355], [165.11834723304852, -20.887113740260443], [165.1171204664688, -20.88794311373435], [165.1170514556, -20.886590500699995]]], [[[165.09932276075483, -20.873396909584375], [165.0999311477466, -20.873233041840255], [165.09997986347594, -20.873358890807783], [165.09972773889666, -20.873554987702796], [165.09932276075483, -20.873396909584375]]], [[[165.065502, -20.857591999999997], [165.06501909763884, -20.857535827696807], [165.065087, -20.857202], [165.065148, -20.857213999999995], [165.065502, -20.857591999999997]]], [[[165.063359, -20.85621], [165.0634996944717, -20.85636112747248], [165.0629230247674, -20.85611591113771], [165.063005, -20.856073], [165.063359, -20.85621]]], [[[165.06261768700736, -20.85597711503646], [165.06273, -20.855941], [165.06280481783077, -20.856062178307738], [165.06261768700736, -20.85597711503646]]], [[[165.05480091404522, -20.84659799520003], [165.05447880808867, -20.846577784690865], [165.054474, -20.846468000000005], [165.054614, -20.846416000000005], [165.05480091404522, -20.84659799520003]]], [[[165.053192, -20.846226999999995], [165.053192, -20.846259250252405], [165.0529935908215, -20.846182066375288], [165.053149, -20.846186999999993], [165.053192, -20.846226999999995]]], [[[165.052111, -20.845682], [165.05212540916415, -20.845705149148962], [165.05205381016262, -20.84566020833667], [165.052062, -20.84565900000001], [165.052111, -20.845682]]], [[[165.051714, -20.84555], [165.051862552926, -20.845633478856637], [165.05163021102132, -20.845612898900544], [165.051714, -20.84555]]], [[[165.04895073772423, -20.844425281655134], [165.049553, -20.844248999999994], [165.04975836996005, -20.84495100278351], [165.04831034300327, -20.844157460695108], [165.04895073772423, -20.844425281655134]]], [[[165.042723, -20.843630999999995], [165.042955, -20.843780000000002], [165.04413533205727, -20.84397165312916], [165.0424286749803, -20.84395024194819], [165.042723, -20.843630999999995]]], [[[165.040996, -20.843189], [165.04106232586062, -20.843546623632083], [165.04036832289157, -20.843163175228447], [165.04088, -20.84308], [165.040996, -20.843189]]], [[[165.034477, -20.841378], [165.03452676389878, -20.84140588965756], [165.03437834758785, -20.84139906536299], [165.034403, -20.841384], [165.034477, -20.841378]]], [[[165.037335, -20.825375], [165.03746629202135, -20.82541273276982], [165.03761420433727, -20.825319766747697], [165.037482, -20.82542], [165.037335, -20.825375]]], [[[165.10961895576173, -20.82050917126738], [165.10824997487765, -20.818634806199448], [165.10919131700706, -20.821398204709535], [165.10805568749026, -20.82127041544687], [165.107726, -20.817592999999995], [165.10936501806248, -20.81772083794242], [165.10961895576173, -20.82050917126738]]], [[[165.099148, -20.818045], [165.099032, -20.818005], [165.0990122762812, -20.817914270893482], [165.09923835532254, -20.817983126246517], [165.099148, -20.818045]]], [[[165.12297991636214, -20.886757093719947], [165.1231386184825, -20.886962472934517], [165.12313346388538, -20.887163251495572], [165.12274471815067, -20.887090872789923], [165.12297991636214, -20.886757093719947]]], [[[165.18590408975686, -20.872971968044023], [165.18604883081568, -20.872770991229807], [165.18662607285404, -20.873058888140758], [165.1863420161018, -20.873169836894238], [165.1854180151381, -20.873343624066287], [165.18531959825725, -20.873350269991942], [165.18590408975686, -20.872971968044023]]], [[[165.1808816976564, -20.871958909449617], [165.18240745591658, -20.87160585549343], [165.18424036527304, -20.872830325169375], [165.17962078597807, -20.872215885423085], [165.1808816976564, -20.871958909449617]]], [[[165.1782866627935, -20.8715169611933], [165.1779755071485, -20.87157711780196], [165.1772640980917, -20.871105972821603], [165.1776297655948, -20.8709725626338], [165.1782866627935, -20.8715169611933]]], [[[165.13293676370583, -20.870584105402934], [165.13125327078794, -20.870488899401792], [165.13061401138432, -20.867235427027], [165.13794397492563, -20.86837155480301], [165.13914277305838, -20.869494798762815], [165.1393799443446, -20.868464906575436], [165.1399706653, -20.8696729301], [165.1368259253, -20.8718037369], [165.13854978981712, -20.87031371045737], [165.1373466456696, -20.868903492998086], [165.1363836713, -20.870991131], [165.13412896316876, -20.872254785405147], [165.13293676370583, -20.870584105402934]], [[165.1354750952, -20.8704324259], [165.136054885, -20.8702598345], [165.1362073855, -20.870130614700003], [165.1356653837, -20.869894364599993], [165.1354750952, -20.8704324259]]], [[[165.12987777638796, -20.8681927052515], [165.12959522347504, -20.86822339628778], [165.12929330001717, -20.868223623379222], [165.12950726550525, -20.868054244935433], [165.12987777638796, -20.8681927052515]]], [[[165.196125224503, -20.86164912980656], [165.19687432045055, -20.86205511611952], [165.19541994973588, -20.86173682567583], [165.1945738428122, -20.861300782394352], [165.19430807572837, -20.86108925220962], [165.196125224503, -20.86164912980656]]], [[[165.19992966740088, -20.86132296717994], [165.20041912940619, -20.861194393910235], [165.19890558996772, -20.86189630584727], [165.19907546280152, -20.861625192206528], [165.19992966740088, -20.86132296717994]]], [[[165.17077525459896, -20.858178560567033], [165.17306275016162, -20.85832274912021], [165.17276671825206, -20.860101276367732], [165.17167875819078, -20.858477604732105], [165.17077525459896, -20.858178560567033]]], [[[165.1612386117405, -20.8559947582658], [165.16066920867644, -20.857105560964467], [165.1604919427766, -20.8571696784176], [165.16012809583768, -20.856375626879757], [165.1612386117405, -20.8559947582658]]], [[[165.21911916860867, -20.855439851791168], [165.21951685805766, -20.855623348003423], [165.21884687445302, -20.856117237724337], [165.21875258348933, -20.855566188661523], [165.21911916860867, -20.855439851791168]]], [[[165.11534157186375, -20.818831361686243], [165.11291301124547, -20.82019434371061], [165.1192731364362, -20.818473027851056], [165.1178804079, -20.820449898699998], [165.1195773948077, -20.82068498253294], [165.12034793081156, -20.818493249442373], [165.12336132541776, -20.82135365138591], [165.12314030825235, -20.82362003475905], [165.12736305456565, -20.824476376418307], [165.12670754101805, -20.82275746727034], [165.12583149074328, -20.823398993050926], [165.12467202000624, -20.822941120393832], [165.12701889169304, -20.819977356387394], [165.13036656200282, -20.819081752200844], [165.12921135885563, -20.818637968277763], [165.13284814076593, -20.81875044083528], [165.13368300166204, -20.819855629897305], [165.13522972278707, -20.820068824097692], [165.13585181719, -20.8212127315202], [165.1379273213937, -20.821856570543098], [165.13755670505225, -20.818792251488127], [165.14081062744037, -20.817581729816542], [165.14612534036914, -20.818258104752115], [165.1447757295148, -20.819866023445233], [165.1483938748963, -20.82224409321672], [165.1495570776302, -20.82146119417428], [165.15000441256507, -20.82450377214719], [165.15811031888705, -20.824444784577416], [165.1614128927336, -20.822782705835237], [165.17923247291742, -20.823067491561886], [165.17972406207787, -20.821655443638623], [165.176585227789, -20.818194718015818], [165.1765791337246, -20.81296296657901], [165.17890901760265, -20.810287592606624], [165.1825764000577, -20.809772014110038], [165.1888420621122, -20.812501451600735], [165.19039463425668, -20.814680643757946], [165.18934761005963, -20.82076259527476], [165.19062257491944, -20.828040344983112], [165.19531328944436, -20.829818769722685], [165.19782182781645, -20.833117533791167], [165.20361150002466, -20.83414024639176], [165.2060871025406, -20.83718441488067], [165.20622722581157, -20.840911500645536], [165.20957454098814, -20.842327029118273], [165.20792741824266, -20.831118606112916], [165.20955513530947, -20.828303822673544], [165.21290664486457, -20.827051144026758], [165.21127341076664, -20.82717178063627], [165.20902771388194, -20.822123602515365], [165.21067950745828, -20.826364443326497], [165.20955457273826, -20.827897095797052], [165.20957275094938, -20.825117198208545], [165.20519180740027, -20.826570637548674], [165.1956483499075, -20.82468607320922], [165.19390734897067, -20.819010268684725], [165.197289475871, -20.815125880546724], [165.20925220736393, -20.815450628954412], [165.21269651930203, -20.819854217629317], [165.21170723857398, -20.821796491708803], [165.2105379914357, -20.820014781783772], [165.2101612513697, -20.82188738111692], [165.2118371549227, -20.823002857803875], [165.21360468343048, -20.821049305458292], [165.21482523094278, -20.824153545463787], [165.21405336040522, -20.820986744886298], [165.21944101127727, -20.82167974884281], [165.22215273207595, -20.82355922529412], [165.21896094555285, -20.825177206298942], [165.21839491427298, -20.82412362175106], [165.21826657312755, -20.825056165246952], [165.2202557174598, -20.826514138827925], [165.2214758332023, -20.826592463254247], [165.2198454914581, -20.824925048767845], [165.22259144325025, -20.824706340485328], [165.2212868946124, -20.82465782443401], [165.22247096453927, -20.823558811107052], [165.22676963963562, -20.824090629485653], [165.2274456403324, -20.826342390826582], [165.22836518878992, -20.825409718698335], [165.23114837108415, -20.82734304219899], [165.2329854625394, -20.832850786214642], [165.23072460205142, -20.836403950067776], [165.2285400812399, -20.836242364147687], [165.22783889545806, -20.83420433347841], [165.22799831929095, -20.836545231634478], [165.22663638145568, -20.836120890131003], [165.2230191266103, -20.8405795360357], [165.22657955634816, -20.843867374009204], [165.22473210906935, -20.849396282116857], [165.22291336165324, -20.850355293708123], [165.22344281076408, -20.8523680451678], [165.21911470197188, -20.85235584188357], [165.22035536897195, -20.854670334609303], [165.2163182488895, -20.854962880845342], [165.2161612566189, -20.85722947174387], [165.21760945003686, -20.85615715761868], [165.21857821002365, -20.85626859446661], [165.2148919368196, -20.858410569966804], [165.2093288720777, -20.85859024609587], [165.20392431822813, -20.85643520753189], [165.2010949296269, -20.859679184420617], [165.20151297075415, -20.858459430542013], [165.19987267202302, -20.858611968266995], [165.20032755629146, -20.86074997988031], [165.19806144397438, -20.862018816245133], [165.19452044376038, -20.859105445830913], [165.19403092993278, -20.86110718944622], [165.19139086945756, -20.861152070320717], [165.1905043505204, -20.860905416159248], [165.1897389438462, -20.860530463435044], [165.18994710146575, -20.8644146294935], [165.18782954850397, -20.862663516948626], [165.18630037825272, -20.863953495821598], [165.1900644720402, -20.864621239064526], [165.1906594908106, -20.86672336108483], [165.1891832144906, -20.870973094356877], [165.18665169623958, -20.873048879990396], [165.18152082523804, -20.87040188098001], [165.17644587188408, -20.870312434424683], [165.17560795678023, -20.863702304327155], [165.17601090036192, -20.862613153297396], [165.17776691471988, -20.863621896531537], [165.17763234565166, -20.860178499655294], [165.1754788544057, -20.861288930984415], [165.1753115147512, -20.859133759956197], [165.17463438007093, -20.860924947689732], [165.1733536094345, -20.860451485532863], [165.17363167027358, -20.858102683845388], [165.1724090208781, -20.85651170411244], [165.16941888460283, -20.855594861746788], [165.16720647225372, -20.85760702991875], [165.16810926766928, -20.85848345620005], [165.1663209281642, -20.857206252506003], [165.1664694726319, -20.859233328078126], [165.16366591397227, -20.85942075900609], [165.1607718879175, -20.85746027106991], [165.16196670090434, -20.854389228314787], [165.1599730243193, -20.855802197040596], [165.15878997941522, -20.854629652270074], [165.15989213387203, -20.85295547578042], [165.15310614454123, -20.85327962002051], [165.15034049994244, -20.85120098006352], [165.14573230147025, -20.851553601054984], [165.143730086, -20.849692620499997], [165.13919238017334, -20.852569905500975], [165.13226136131544, -20.850836074525223], [165.13352186994558, -20.855416066364167], [165.1319436573609, -20.855663480520892], [165.13650693379043, -20.856236717995436], [165.14032567695182, -20.858954561541346], [165.14125607690528, -20.868420696173086], [165.13527578726143, -20.86789173612103], [165.13172932273355, -20.865698527794564], [165.12523392289728, -20.8697151267578], [165.1166935212588, -20.86886051344062], [165.11963015307225, -20.87203071340706], [165.12076346486435, -20.87156451172408], [165.1197156860377, -20.869999395495554], [165.1249496519634, -20.86992104598468], [165.1254606339, -20.8726076518], [165.1212419224, -20.8720814735], [165.129440801689, -20.874461749166024], [165.13148646336842, -20.877104334853605], [165.1317003148103, -20.880117792322935], [165.127317217473, -20.886744605627563], [165.12411427378447, -20.887282202003092], [165.12388545199005, -20.886794435395323], [165.1170423678, -20.884711408599998], [165.11574041881727, -20.88815650223393], [165.10909577560332, -20.886944240317764], [165.10695443402219, -20.885331793900306], [165.10247785551365, -20.885736383455914], [165.09735572522072, -20.88131486214659], [165.09625845695567, -20.878408958641607], [165.09723477697287, -20.87487800065805], [165.1012778381619, -20.87469421728327], [165.1020061980576, -20.87363902922921], [165.10051074661536, -20.87288270818406], [165.10548175242235, -20.87044705089047], [165.10828428565935, -20.865740544262383], [165.10169587763616, -20.86201539664469], [165.10005818958405, -20.85943081748547], [165.09890056643104, -20.85958162066993], [165.09692655846217, -20.859582749222593], [165.0952314249, -20.8588127043], [165.0960535932, -20.8576783199], [165.09429785140003, -20.856409823800004], [165.0952296424, -20.857858084100005], [165.0937486491, -20.856682667499992], [165.0933995464251, -20.858555215602973], [165.0916481165771, -20.855254519160383], [165.08720109445832, -20.853601088156832], [165.087273, -20.851106], [165.084855, -20.849082], [165.0793824764967, -20.8498647564566], [165.07601895903184, -20.846109822508552], [165.0745135862623, -20.84798431359334], [165.072921, -20.846390000000007], [165.071652, -20.848002999999995], [165.07535771562166, -20.84969415910768], [165.07635852518288, -20.852029402527435], [165.07627392155152, -20.853384936993706], [165.073777, -20.853027000000004], [165.073204, -20.854462], [165.07622161266292, -20.85455594162859], [165.07638683420353, -20.855897088479963], [165.072815, -20.858783], [165.074165, -20.859402000000003], [165.07617631956577, -20.857249068570475], [165.07384389506507, -20.85992304323625], [165.069367, -20.860252999999997], [165.068017, -20.857413], [165.066845, -20.857682999999994], [165.067607, -20.85683999999999], [165.064824, -20.856296000000007], [165.065836, -20.855130999999993], [165.062669920086, -20.855566849185234], [165.06046031847873, -20.854181408227795], [165.061251, -20.85239], [165.06010956100607, -20.853962091824048], [165.05987, -20.849254000000002], [165.061666, -20.851732000000002], [165.062239, -20.850763000000004], [165.057611, -20.845370999999997], [165.0549, -20.844900999999993], [165.05612852884667, -20.84660755822703], [165.05543016152728, -20.84655537545367], [165.05432332820837, -20.844929266237116], [165.05321852740474, -20.845468823617377], [165.05098754255613, -20.844676139885852], [165.05206383237126, -20.84414324091242], [165.050188, -20.842853999999992], [165.04620669537397, -20.843428025741506], [165.0447008695962, -20.841591960933687], [165.03975271059608, -20.842678134703416], [165.03846239255432, -20.840447518943073], [165.03243490203275, -20.84087885919618], [165.02972579020195, -20.83692420705982], [165.03120400000003, -20.836696000000003], [165.031308, -20.834814000000005], [165.029566803555, -20.836695816028485], [165.0271518646393, -20.83300701756245], [165.027334866807, -20.828643869878096], [165.02980564899786, -20.825596312492696], [165.03145906448705, -20.824765037226346], [165.0333256402577, -20.824566162818495], [165.030245, -20.825757000000003], [165.03261, -20.826212999999996], [165.03534139026675, -20.824621970352258], [165.03695800919616, -20.82509711521954], [165.035157, -20.825523999999994], [165.035523, -20.826217999999997], [165.040546, -20.827220999999994], [165.040045, -20.825001000000007], [165.03817144461615, -20.824768158698078], [165.03875033189712, -20.82262603126128], [165.04159273892606, -20.82043171916951], [165.04504296181977, -20.820380048079546], [165.0480917797651, -20.81643778884789], [165.0563688905398, -20.816096337549734], [165.06049809135982, -20.820208762133465], [165.06629805608492, -20.819359193964285], [165.06941880138163, -20.814323834973834], [165.07567990606483, -20.811584955889803], [165.07934821879726, -20.812095013291305], [165.08180270638087, -20.814344568758834], [165.0855855750413, -20.826428394833716], [165.0964667994312, -20.831472104318493], [165.0982259540642, -20.83099646266763], [165.08850455780527, -20.826010904646516], [165.0879582757945, -20.822562280836852], [165.08969019058745, -20.81951182125642], [165.09410661133197, -20.8178122429653], [165.09834123336117, -20.81770989592407], [165.09509874572848, -20.81834860008143], [165.09823399372874, -20.81846996931195], [165.09976351864765, -20.820577729261178], [165.10216039611205, -20.818721781341278], [165.100039, -20.818033000000003], [165.10239624041063, -20.816425756308195], [165.10534214285812, -20.81617703942296], [165.10732171639347, -20.817109502842204], [165.1060110242979, -20.818483999999994], [165.1078774618151, -20.82173886250755], [165.1108479111241, -20.82255025682429], [165.11032696004415, -20.818005634689502], [165.11255242585935, -20.819658956387038], [165.11534157186375, -20.818831361686243]], [[165.043131, -20.839373000000002], [165.042862, -20.837824], [165.0412906228958, -20.83805719323807], [165.0429697368352, -20.839736307177485], [165.043131, -20.839373000000002]], [[165.045432, -20.838156], [165.045389, -20.837359], [165.044027, -20.836831000000004], [165.044217, -20.839883999999998], [165.045432, -20.838156]], [[165.03262686138896, -20.833304367948454], [165.030587, -20.832766], [165.02997139567856, -20.833225099910525], [165.030886, -20.833851], [165.03262686138896, -20.833304367948454]], [[165.03335447742938, -20.834806242083154], [165.03403545141592, -20.83469430115386], [165.0342643437279, -20.834185963855425], [165.03364365816338, -20.83433982154443], [165.03335447742938, -20.834806242083154]], [[165.03356, -20.836609999999997], [165.033896, -20.837103000000006], [165.032291, -20.837762999999992], [165.032486, -20.83849199999999], [165.034549, -20.83805999999999], [165.03473508222402, -20.835421917194274], [165.03356, -20.836609999999997]], [[165.03831952406415, -20.839073990012512], [165.040549, -20.840080000000004], [165.039132, -20.836546], [165.037991, -20.837504], [165.03914835458957, -20.838101366827463], [165.03831952406415, -20.839073990012512]], [[165.1340952527, -20.825673674599994], [165.1334318491, -20.825996940199996], [165.1340884747, -20.826634751599993], [165.1342250786, -20.825831360899993], [165.1340952527, -20.825673674599994]], [[165.1309640631, -20.821666846899998], [165.1307126663, -20.822061508700003], [165.1315614814, -20.824434851099998], [165.1321018318, -20.822971310899998], [165.1309640631, -20.821666846899998]], [[165.1311136756, -20.827067383600006], [165.132165537, -20.8260409544], [165.1322339692, -20.8257827032], [165.1312648509, -20.825453527900002], [165.1311136756, -20.827067383600006]], [[165.1284309016, -20.8513886293], [165.1321611736, -20.850532304299993], [165.1321673564, -20.848875530999997], [165.1361355309, -20.849647015600006], [165.1371646959, -20.849194348499992], [165.1356839578, -20.848069499299996], [165.1337544046, -20.84893884829999], [165.1320664483, -20.846903265], [165.1300781692, -20.850469349799994], [165.127102782, -20.850772814600003], [165.1284309016, -20.8513886293]], [[165.12984580365017, -20.84194012383275], [165.12976164304257, -20.843034211731705], [165.1314074504803, -20.842379629228056], [165.13014504136612, -20.842248712727333], [165.12984580365017, -20.84194012383275]], [[165.1293071691, -20.8288115949], [165.1282543037, -20.828697631100002], [165.1273476461, -20.830082537200003], [165.1284610523, -20.82960834269999], [165.1293071691, -20.8288115949]], [[165.1279417143268, -20.833599781844807], [165.12847129182902, -20.83349758267772], [165.1283412201618, -20.83299587767563], [165.12766298932564, -20.833079495175976], [165.1279417143268, -20.833599781844807]], [[165.1269095335624, -20.842903295230983], [165.12798491910414, -20.843071616446196], [165.1281906450338, -20.842940699945473], [165.1276669790309, -20.84223001037008], [165.1269095335624, -20.842903295230983]], [[165.1267638532, -20.865146058800004], [165.125400387, -20.864844109599996], [165.1246502493, -20.8652393733], [165.1279587743, -20.8659124741], [165.1267638532, -20.865146058800004]], [[165.11126850358593, -20.887124258432003], [165.1133826560703, -20.887239958319213], [165.1132669561831, -20.88455782457039], [165.11108969466935, -20.88627228653532], [165.11126850358593, -20.887124258432003]], [[165.1115149572426, -20.88224838391669], [165.1094790201, -20.884092441999993], [165.1049383437, -20.8840038811], [165.1095633157, -20.884572921], [165.10965948847823, -20.88612715279095], [165.1115149572426, -20.88224838391669]], [[165.1063276947, -20.8739673708], [165.1055876092, -20.874147132699996], [165.1069918083, -20.8742681868], [165.1080065231, -20.8739663192], [165.1063276947, -20.8739673708]], [[165.103984, -20.816454000000007], [165.105334, -20.818018999999993], [165.106121, -20.818201999999992], [165.105467, -20.816843], [165.103984, -20.816454000000007]], [[165.1051414665, -20.8210140287], [165.1054242899, -20.821838656500006], [165.1055922399, -20.822017857800002], [165.1054611842, -20.820045586999996], [165.1051414665, -20.8210140287]], [[165.10266531, -20.825537592499995], [165.1027421164, -20.8263049701], [165.1030930922, -20.826390825499995], [165.1032071603, -20.825860015299995], [165.10266531, -20.825537592499995]], [[165.10272719591944, -20.828686280848476], [165.10294102833302, -20.8282732404401], [165.10229953109226, -20.827926818578998], [165.10238506405767, -20.829112643952826], [165.10272719591944, -20.828686280848476]], [[165.10101775760003, -20.8258756639], [165.1009264435, -20.8262199826], [165.1012918555, -20.825079389800003], [165.1007426792, -20.8252016405], [165.10101775760003, -20.8258756639]], [[165.10194188663766, -20.85710773556006], [165.09851935526146, -20.857163842631813], [165.09807049868752, -20.858229876994884], [165.09990332969772, -20.85944553021594], [165.10325105164495, -20.85742567563325], [165.10194188663766, -20.85710773556006]], [[165.10031801739282, -20.821970902752327], [165.099676520152, -20.821371300864502], [165.09919183334785, -20.82193092936738], [165.1000614184965, -20.822650448673727], [165.10031801739282, -20.821970902752327]], [[165.09893523445155, -20.820745047456157], [165.09853608061277, -20.821051512215266], [165.09826522622222, -20.822317338310935], [165.09912055587662, -20.82118475756827], [165.09893523445155, -20.820745047456157]], [[165.09872140203794, -20.82374304549364], [165.0987071465437, -20.824276016676574], [165.09876416852063, -20.824355962191383], [165.09922034433632, -20.823783018397776], [165.09872140203794, -20.82374304549364]], [[165.0976522399699, -20.822970233929055], [165.09719606415422, -20.82282366577128], [165.09688244328092, -20.823223396774765], [165.09749542953327, -20.823703072578912], [165.0976522399699, -20.822970233929055]], [[165.09608413560352, -20.827593719884185], [165.09666861086734, -20.828179973094347], [165.09709627569453, -20.827820227076817], [165.09652605592493, -20.82748712814627], [165.09608413560352, -20.827593719884185]], [[165.0991407859, -20.8530290006], [165.0984234648, -20.8528716268], [165.0985155288, -20.853646167299996], [165.0989886695, -20.853767821199998], [165.0991407859, -20.8530290006]], [[165.10321486260003, -20.874894483500004], [165.1041994903, -20.875209460900006], [165.1049319167, -20.874979504600002], [165.1021768458, -20.874615393], [165.10321486260003, -20.874894483500004]], [[165.1015112868464, -20.882108547503748], [165.1000452291076, -20.881202766607796], [165.10094167205617, -20.88392010929565], [165.10191281858377, -20.88388275750612], [165.1015112868464, -20.882108547503748]], [[165.094866, -20.821550000000002], [165.095452, -20.82148099999999], [165.09436, -20.821228999999995], [165.094537, -20.821591], [165.094866, -20.821550000000002]], [[165.09485, -20.824379000000004], [165.095692, -20.824281000000003], [165.095295, -20.823603999999996], [165.094068, -20.824058000000004], [165.09485, -20.824379000000004]], [[165.1307233627, -20.877493505699995], [165.1304942158, -20.87724982809999], [165.1308981102, -20.876604027299997], [165.1303490065, -20.876998913999994], [165.1304336925, -20.877859505700002], [165.1307233627, -20.877493505699995]], [[165.13116888418503, -20.878751793867046], [165.13081126635188, -20.879235629758988], [165.13151598384664, -20.879382884160886], [165.13133717493005, -20.878846457411118], [165.13116888418503, -20.878751793867046]], [[165.11943080787043, -20.853076869096377], [165.12030857492422, -20.853347669570418], [165.12121435582017, -20.852759378885423], [165.120327250819, -20.852479240464], [165.11943080787043, -20.853076869096377]], [[165.11901781252024, -20.830263166019062], [165.1198478595799, -20.83014192319013], [165.12015562983797, -20.829787521074767], [165.11910174986335, -20.829628972760005], [165.11901781252024, -20.830263166019062]], [[165.11677015699914, -20.82882690481472], [165.1171711909718, -20.83004865947556], [165.1174882876013, -20.830132596818668], [165.11786134245958, -20.82901343224385], [165.11677015699914, -20.82882690481472]], [[165.11635979665508, -20.82456475305895], [165.1157535825104, -20.824564753058965], [165.1155577287098, -20.825096356231995], [165.1158841517108, -20.825096356232], [165.11635979665508, -20.82456475305895]], [[165.11733612913366, -20.83524360681608], [165.11753201125376, -20.8358359170364], [165.11768591863387, -20.83606911003653], [165.1181149937541, -20.83505238855597], [165.11733612913366, -20.83524360681608]], [[165.1184689992902, -20.852152412305664], [165.11818886086874, -20.851564121620658], [165.1156676150759, -20.851778894410415], [165.11705896923567, -20.854440209414], [165.1184689992902, -20.852152412305664]], [[165.1153221110228, -20.85240453688495], [165.11526608333855, -20.85318892446495], [165.1160504709185, -20.852927461938286], [165.11599444323423, -20.85249791635876], [165.1153221110228, -20.85240453688495]], [[165.11983193280955, -20.874537465986315], [165.12076432917357, -20.874323014822597], [165.12065244160988, -20.8738568166406], [165.1198878765914, -20.873959380240635], [165.11983193280955, -20.874537465986315]], [[165.1182379254, -20.876512835999996], [165.1187489542, -20.876182563699995], [165.1181226731, -20.875508816199993], [165.1179098581, -20.8766063002], [165.1182379254, -20.876512835999996]], [[165.1174736215, -20.874985696899998], [165.1167992526, -20.876092096299995], [165.117791516, -20.8765489247], [165.1177342895, -20.873889148099995], [165.1174736215, -20.874985696899998]], [[165.11379504450443, -20.825208272689483], [165.11388830821903, -20.824695322259355], [165.1134406423891, -20.825842465948536], [165.11383234999028, -20.825488063833188], [165.11379504450443, -20.825208272689483]], [[165.11234013055721, -20.82115130110577], [165.1122095613568, -20.822578235938664], [165.1128943048, -20.821795149199993], [165.11226551958555, -20.819705713529963], [165.11234013055721, -20.82115130110577]], [[165.11258261621506, -20.82396786528573], [165.11145412526878, -20.824499468458765], [165.11172459004104, -20.825394800118616], [165.1127877963871, -20.82521759906094], [165.11258261621506, -20.82396786528573]], [[165.1140862707, -20.85083218630001], [165.1120638878, -20.8502023715], [165.1121338532, -20.851952332899995], [165.1149110155, -20.851778359999997], [165.1140862707, -20.85083218630001]], [[165.1093821125, -20.8292398502], [165.1098477491, -20.8296268501], [165.1101447926, -20.828966818899993], [165.1097172803, -20.8285511067], [165.1093821125, -20.8292398502]], [[165.10866967670003, -20.8264555165], [165.1093634897, -20.825909989399996], [165.1094243011, -20.825608718899996], [165.1076771376, -20.825308593699994], [165.10866967670003, -20.8264555165]], [[165.1066902233182, -20.823889612756933], [165.10791619582284, -20.824582474252924], [165.10660469035278, -20.82219741840003], [165.10629106947945, -20.822983558299956], [165.1066902233182, -20.823889612756933]], [[165.110050553, -20.861987531100002], [165.1106077582, -20.862238197299995], [165.1091202974, -20.862898989899996], [165.1110887555, -20.862618009800002], [165.1110884288, -20.862173336599998], [165.110050553, -20.861987531100002]], [[165.1086547763, -20.862813220300005], [165.1085018272, -20.862339955300005], [165.1079142466, -20.8622901217], [165.1079220306, -20.862505281300002], [165.1086547763, -20.862813220300005]], [[165.10876983190002, -20.863645116699995], [165.1081123825, -20.863204247999995], [165.1060536142, -20.863998256699993], [165.1082462036, -20.864580399599994], [165.10876983190002, -20.863645116699995]], [[165.11375068720002, -20.8763652636], [165.1141696206, -20.875332196400002], [165.1139861982, -20.874966539599995], [165.1133074724, -20.875555106], [165.11375068720002, -20.8763652636]], [[165.11376203247988, -20.87854677035156], [165.1130161153887, -20.87952578653377], [165.11263383287942, -20.880504802715986], [165.11437741408014, -20.878350967115114], [165.11376203247988, -20.87854677035156]], [[165.1371262181573, -20.85845552678781], [165.13700482484134, -20.858399499103523], [165.13637918236682, -20.85830611962971], [165.13670601052516, -20.858950437999006], [165.1371262181573, -20.85845552678781]], [[165.1376166330863, -20.843913222522307], [165.1376540378008, -20.84323993766142], [165.13699945529714, -20.84347371712701], [165.13715842533375, -20.843801008378833], [165.1376166330863, -20.843913222522307]], [[165.1385808518097, -20.84927185393432], [165.13823175554072, -20.8487631707995], [165.13787268509262, -20.848823015874185], [165.13881025792935, -20.84966084691977], [165.1385808518097, -20.84927185393432]], [[165.13897868998248, -20.828699771216403], [165.13919188631934, -20.82825492341314], [165.13745854811293, -20.826482467692905], [165.13926920215377, -20.829373719720788], [165.13897868998248, -20.828699771216403]], [[165.13916456004318, -20.823420898755604], [165.13835586903176, -20.823342659374564], [165.13952367317103, -20.824044586339138], [165.14052283529512, -20.82385729358338], [165.13916456004318, -20.823420898755604]], [[165.13922917345212, -20.84759619184317], [165.13910948330275, -20.84882301587418], [165.14215160793253, -20.84927185393432], [165.14316897420215, -20.848773144978615], [165.13922917345212, -20.84759619184317]], [[165.14108363197784, -20.81986910132998], [165.14067983129965, -20.82040734668644], [165.13976458397343, -20.820573055392003], [165.141222064158, -20.821073913656843], [165.14108363197784, -20.81986910132998]], [[165.1413009625797, -20.82387817049448], [165.1422775389045, -20.8240136341155], [165.14157468407683, -20.82290970065168], [165.14120865861946, -20.823060618280984], [165.1413009625797, -20.82387817049448]], [[165.14532892016715, -20.82398776482696], [165.1449546842078, -20.823529062376146], [165.14411216058937, -20.823412787432584], [165.14447181323283, -20.824146095932168], [165.14532892016715, -20.82398776482696]], [[165.14258642078696, -20.819882202498974], [165.14172355755997, -20.81895770655852], [165.14292404106848, -20.821976197816042], [165.14720428049924, -20.82269696595889], [165.14431232228276, -20.821881796497575], [165.14370600835832, -20.82001699969912], [165.14267151364697, -20.821137263203784], [165.14258642078696, -20.819882202498974]], [[165.1465606594, -20.849604155599994], [165.1453708588, -20.850071359800005], [165.1477818612, -20.8500477797], [165.1468200516, -20.8495824169], [165.1465606594, -20.849604155599994]], [[165.1570075180492, -20.84628805303045], [165.15651274085045, -20.84628805303045], [165.15621400744743, -20.84709089905105], [165.15676479715924, -20.847165582401797], [165.1570075180492, -20.84628805303045]], [[165.15940672069215, -20.84930339331711], [165.1597988082836, -20.848500547296524], [165.1582397933366, -20.84718425323948], [165.15799707244668, -20.84928472247943], [165.15940672069215, -20.84930339331711]], [[165.16050830011577, -20.847482986642508], [165.16056431262882, -20.846194698842012], [165.15858520383387, -20.845783940412858], [165.15975213118938, -20.847847067977423], [165.16050830011577, -20.847482986642508]], [[165.16495330135254, -20.856121039942572], [165.16460779729945, -20.85600898457399], [165.16393546508803, -20.856401178363996], [165.1646731629311, -20.856681316785426], [165.16495330135254, -20.856121039942572]], [[165.16701698772374, -20.854374843782335], [165.16526145361613, -20.854654982203755], [165.16475720445754, -20.855075189835897], [165.1670356636185, -20.855243272888764], [165.16701698772374, -20.854374843782335]], [[165.1652241018266, -20.850490257671854], [165.16513072235279, -20.85009806388185], [165.16457044550992, -20.850294160776848], [165.16476654240492, -20.850620988935187], [165.1652241018266, -20.850490257671854]], [[165.1687351700418, -20.850957155040906], [165.16754925072442, -20.85138670062042], [165.1668208908287, -20.85148941804162], [165.16806283783038, -20.851965653358047], [165.1697716822011, -20.850649002777335], [165.1687351700418, -20.850957155040906]], [[165.16783592487948, -20.826604771853887], [165.1674683712154, -20.825357173938766], [165.16688763628392, -20.824482735564782], [165.16728712276728, -20.82702129412153], [165.16783592487948, -20.826604771853887]], [[165.17723180403848, -20.856965796523287], [165.17721572029225, -20.856262943383932], [165.17678848376568, -20.856306417925666], [165.17652969565097, -20.85685176766434], [165.17723180403848, -20.856965796523287]], [[165.17784479701777, -20.859159835475786], [165.17830261306278, -20.859159359246835], [165.17869891242955, -20.85875730627486], [165.17776739851385, -20.858227537822053], [165.17784479701777, -20.859159835475786]], [[165.17771066126744, -20.868383339840516], [165.17734530318606, -20.869165481088288], [165.179052744319, -20.867600178621103], [165.1785949789906, -20.86766520614068], [165.17771066126744, -20.868383339840516]], [[165.17769328391105, -20.866583152886545], [165.17709944644432, -20.867738481674326], [165.1803797161277, -20.865903432046544], [165.1765179221414, -20.8663763773791], [165.17769328391105, -20.866583152886545]], [[165.17911529495282, -20.836645140065112], [165.17842117069313, -20.836753446639538], [165.1785209582801, -20.837269737980996], [165.17889477882076, -20.83726217591846], [165.17911529495282, -20.836645140065112]], [[165.17843827711675, -20.812411093611317], [165.1783632467262, -20.8134726538347], [165.1785465628432, -20.813680456190927], [165.17906404542222, -20.81264712323419], [165.17843827711675, -20.812411093611317]], [[165.18340543347225, -20.86603873783374], [165.1827615645539, -20.86527356027861], [165.18200443992635, -20.86558440328289], [165.18278022742112, -20.86662661815049], [165.18340543347225, -20.86603873783374]], [[165.18336484076573, -20.811523719370733], [165.1840218033872, -20.812319127271284], [165.18455390605152, -20.810798054154642], [165.1828523553584, -20.81034802945906], [165.18336484076573, -20.811523719370733]], [[165.18707268687675, -20.87080710040292], [165.18625152072, -20.870732448934135], [165.1861768692512, -20.871712249462046], [165.1864568122592, -20.871814895231637], [165.18707268687675, -20.87080710040292]], [[165.18582324500557, -20.863074518399856], [165.18556285000574, -20.862293038388653], [165.18461656378278, -20.862200823902466], [165.184655232579, -20.862623938076034], [165.18582324500557, -20.863074518399856]], [[165.18805248740466, -20.866747926787273], [165.18648480655997, -20.86608539500173], [165.18503843435212, -20.86747577860801], [165.18592492054404, -20.868306276198343], [165.18805248740466, -20.866747926787273]], [[165.1855141465556, -20.859911942526093], [165.18920017425293, -20.860381269092798], [165.19099945432626, -20.85921021312925], [165.18687054143675, -20.85845452366701], [165.1855141465556, -20.859911942526093]], [[165.1895641796477, -20.86751310434241], [165.1897414768861, -20.866915892592065], [165.18839775044782, -20.86712118413125], [165.18945220244453, -20.8676530758464], [165.1895641796477, -20.86751310434241]], [[165.1900320598129, -20.860523790287843], [165.1905817147907, -20.860738343214145], [165.1909092853247, -20.860314822334654], [165.19050478800892, -20.86024355163577], [165.1900320598129, -20.860523790287843]], [[165.19118267132885, -20.859281729953693], [165.19105369968017, -20.859869988932065], [165.19129788734642, -20.85988406049399], [165.1917397263383, -20.85931696759802], [165.19118267132885, -20.859281729953693]], [[165.2044885922763, -20.852689507091345], [165.20338146194098, -20.852102710514334], [165.20301050313986, -20.854269135644945], [165.20388773190953, -20.854103134210064], [165.2044885922763, -20.852689507091345]], [[165.20784797219716, -20.848740787523678], [165.20828273839152, -20.848647021529306], [165.208839074766, -20.84818732721479], [165.2084877330907, -20.84791521404292], [165.20784797219716, -20.848740787523678]], [[165.21636223094316, -20.82567717778348], [165.21731160791745, -20.82408196554226], [165.21875965258954, -20.82313339932732], [165.21680836341497, -20.82372258393434], [165.21636223094316, -20.82567717778348]], [[165.22238128778065, -20.846533238741117], [165.2218916678713, -20.845630184772766], [165.22109076261017, -20.845767491046153], [165.22200122753563, -20.84750196988648], [165.22238128778065, -20.846533238741117]], [[165.221369574334, -20.84338598166566], [165.22235428892125, -20.843607870721456], [165.22194785634065, -20.842323756998447], [165.22140653621298, -20.84257548234223], [165.221369574334, -20.84338598166566]], [[165.22422238259495, -20.848123051880897], [165.2241284789729, -20.846538133404014], [165.2224358018523, -20.847286242018296], [165.22271886931753, -20.847809439881207], [165.22422238259495, -20.848123051880897]], [[165.22308801446763, -20.825193401299142], [165.22288275090224, -20.825674202481853], [165.2238130854304, -20.825436309278714], [165.22347624462938, -20.824633467747294], [165.22308801446763, -20.825193401299142]], [[165.2300587919184, -20.829087628862656], [165.23038876879443, -20.830363827487826], [165.2308618522049, -20.83042774016774], [165.23086740415354, -20.829065025106996], [165.2300587919184, -20.829087628862656]], [[165.0768323762402, -20.82778963221686], [165.07568189619371, -20.827122876735384], [165.07514326235378, -20.82720916273887], [165.0757080434675, -20.8276641253027], [165.0768323762402, -20.82778963221686]], [[165.07893461705237, -20.828976718446622], [165.0786522264955, -20.828487764426875], [165.07782858737133, -20.82843024042455], [165.07855548158253, -20.829096995906024], [165.07893461705237, -20.828976718446622]], [[165.18017988409164, -20.81241710245823], [165.18101450207485, -20.812878706817663], [165.1819610241452, -20.811451929706696], [165.1814527930828, -20.811368001641345], [165.18017988409164, -20.81241710245823]], [[165.031418, -20.838807999999997], [165.032071, -20.839261], [165.032352, -20.838738999999997], [165.03151, -20.838497999999998], [165.031418, -20.838807999999997]], [[165.035703, -20.838737999999996], [165.036551, -20.838962], [165.036966, -20.83863999999999], [165.035294, -20.838348000000007], [165.035703, -20.838737999999996]], [[165.0413793394382, -20.841165633168885], [165.04155753311622, -20.840426218088247], [165.04036115425512, -20.840351729610514], [165.04059528725497, -20.840679351587834], [165.0413793394382, -20.841165633168885]], [[165.044112, -20.834209000000005], [165.04396787678806, -20.835072101790217], [165.044393, -20.833175999999998], [165.043807, -20.833521], [165.044112, -20.834209000000005]], [[165.0435, -20.827053999999997], [165.044287, -20.827066000000002], [165.044549, -20.826646999999998], [165.042901, -20.826222], [165.0435, -20.827053999999997]], [[165.054833, -20.844349999999995], [165.05403900000002, -20.843730999999995], [165.05274876045647, -20.844376819061036], [165.054766, -20.845078999999995], [165.054833, -20.844349999999995]], [[165.057475, -20.84272], [165.057396, -20.843523], [165.058489, -20.842834], [165.05778, -20.842100000000002], [165.057475, -20.84272]], [[165.05867400000002, -20.833413], [165.058875, -20.832993999999992], [165.058314, -20.832409], [165.058363, -20.833109000000004], [165.05867400000002, -20.833413]], [[165.062581, -20.850688000000005], [165.062594, -20.851204], [165.063332, -20.850635999999998], [165.062947, -20.850561999999996], [165.062581, -20.850688000000005]], [[165.063312, -20.831868], [165.062561, -20.832029], [165.062134, -20.832739999999998], [165.063428, -20.832373], [165.063312, -20.831868]], [[165.068106, -20.825979], [165.068113, -20.826495], [165.068949, -20.827086000000005], [165.068411, -20.825456999999997], [165.068106, -20.825979]], [[165.069947, -20.820034000000007], [165.068891, -20.819702000000003], [165.068574, -20.818558999999993], [165.068744, -20.819735999999992], [165.069947, -20.820034000000007]], [[165.06963883288773, -20.828471682092395], [165.07069752910832, -20.827552901671908], [165.0723345439692, -20.827520254651894], [165.07107063790852, -20.826214373851183], [165.06963883288773, -20.828471682092395]], [[165.072295, -20.844229], [165.072442, -20.843374000000004], [165.071501, -20.842777999999992], [165.070989, -20.843294], [165.072295, -20.844229]], [[165.074803, -20.843022999999995], [165.074437, -20.842712999999996], [165.074022, -20.843327999999996], [165.074364, -20.843505000000004], [165.074803, -20.843022999999995]], [[165.075333, -20.839522999999996], [165.075014, -20.837521], [165.07268, -20.84210799999999], [165.073728, -20.840677], [165.075426, -20.842098999999997], [165.075333, -20.839522999999996]], [[165.07322067736968, -20.828546303852438], [165.07280092996947, -20.829189916532794], [165.07328130754973, -20.829670294113058], [165.07357513072992, -20.82915260565278], [165.07322067736968, -20.828546303852438]], [[165.07377575993493, -20.827135950372277], [165.07373836582997, -20.826032483311085], [165.07210135096906, -20.825845928910972], [165.07282424926947, -20.8275295823719], [165.07501514071225, -20.82737912001846], [165.07377575993493, -20.827135950372277]], [[165.07644000000002, -20.843807999999996], [165.076056, -20.844835999999994], [165.076965, -20.84452], [165.076829, -20.841616000000002], [165.07644000000002, -20.843807999999996]], [[165.077194, -20.839482000000004], [165.077786, -20.838942], [165.07709, -20.838415000000005], [165.076657, -20.840055999999997], [165.077194, -20.839482000000004]], [[165.07822, -20.816536000000003], [165.077878, -20.816725999999996], [165.078031, -20.817281999999995], [165.078403, -20.81692599999999], [165.07822, -20.816536000000003]]], [[[165.22715659968608, -20.838927534866716], [165.22807851797754, -20.83839536682613], [165.22658715141313, -20.840083271857964], [165.22660433444446, -20.839625662815024], [165.22715659968608, -20.838927534866716]]], [[[165.12417634703158, -20.82065910561048], [165.12417581732544, -20.820643309883465], [165.1242150035837, -20.820706709352287], [165.1241941104857, -20.820694175174612], [165.12417634703158, -20.82065910561048]]], [[[165.13758306009012, -20.820773847916207], [165.13551242781446, -20.81992950609379], [165.13554606616773, -20.819360235254962], [165.1372954812704, -20.819048063568314], [165.13758306009012, -20.820773847916207]]], [[[165.13321969809923, -20.81899618771792], [165.1332989364436, -20.818917185337185], [165.13382247170273, -20.8192051472762], [165.13351193573115, -20.81928266898906], [165.13321969809923, -20.81899618771792]]]]}", "forest_cover_percentage": null, "forest_fragmentation_effective_mesh_size": 89.40566494880713, "forest_fragmentation_fragment_size_distribution": {"10": 0.0, "100": 0.0, "1000": 0.0, "1100": 0.0, "1200": 0.0, "12000": 100.0, "125": 0.0, "1300": 0.0, "1400": 0.0, "150": 0.0, "1500": 0.0, "1600": 0.0, "1700": 0.0, "17000": 100.0, "175": 0.0, "1800": 0.0, "1900": 0.0, "20": 0.0, "200": 0.0, "2000": 0.0, "225": 0.0, "250": 0.0, "27000": 100.0, "275": 0.0, "30": 0.0, "300": 0.0, "325": 0.0, "350": 0.0, "375": 0.0, "40": 0.0, "400": 0.0, "425": 0.0, "450": 0.0, "475": 0.0, "50": 0.0, "500": 0.0, "500000": 100.0, "60": 0.0, "600": 0.0, "70": 0.0, "700": 0.0, "7000": 0.0, "80": 0.0, "800": 0.0, "90": 0.0, "900": 0.0}, "forest_humidity_category_distribution": null, "frequencies": {}, "id": 175, "land_use_category_distribution": null, "name": "73.0", "num_families_unique_taxonomic_count": 69, "num_occurrences_count": 2134, "num_species_unique_taxonomic_count": 300, "rainfall_mean": "2807.66455078125", "rainfall_range": "{\"min\": 2380.0, \"max\": 3170.0}", "shape_area": "9432.041317120666", "shape_coordinates": "{\"type\": \"FeatureCollection\", \"features\": [{\"id\": \"0\", \"type\": \"Feature\", \"properties\": {}, \"geometry\": {\"type\": \"Polygon\", \"coordinates\": [[[165.02903744662, -20.826366557032305], [165.03238294966326, -20.824592080222285], [165.03746629202135, -20.82541273276982], [165.03993942642796, -20.821263092442084], [165.04504296181977, -20.820380048079546], [165.04896193788971, -20.81609861242137], [165.0563688905398, -20.816096337549734], [165.06049809135982, -20.820208762133465], [165.06629805608492, -20.819359193964285], [165.06941880138163, -20.814323834973834], [165.07619384097842, -20.811558993260334], [165.08180270638087, -20.814344568758834], [165.0855855750413, -20.826428394833716], [165.0964667994312, -20.831472104318493], [165.0982259540642, -20.83099646266763], [165.08902835410478, -20.826747037449536], [165.08850155824112, -20.820875104145568], [165.09134320958313, -20.818679968887906], [165.09969973029294, -20.81821928057452], [165.10335248703817, -20.816149490719727], [165.11255242585935, -20.819658956387038], [165.1216781808238, -20.818748573362374], [165.12499376364175, -20.82297909502941], [165.12911702628583, -20.81865568450148], [165.13682888295085, -20.819586347301332], [165.14333782886996, -20.817579635834264], [165.14791205569077, -20.819442347994187], [165.15000441256507, -20.82450377214719], [165.15811031888705, -20.824444784577416], [165.1614128927336, -20.822782705835237], [165.17923247291742, -20.823067491561886], [165.17972406207787, -20.821655443638623], [165.176585227789, -20.818194718015818], [165.1765791337246, -20.81296296657901], [165.17890901760265, -20.810287592606624], [165.18206242961892, -20.809746825437145], [165.19003313801375, -20.81386279787599], [165.19062257491944, -20.828040344983112], [165.19531328944436, -20.829818769722685], [165.19782182781645, -20.833117533791167], [165.20361150002466, -20.83414024639176], [165.2060871025406, -20.83718441488067], [165.20622722581157, -20.840911500645536], [165.20957454098814, -20.842327029118273], [165.20771811254053, -20.83247074435201], [165.20957275094938, -20.825117198208545], [165.20519180740027, -20.826570637548674], [165.1956483499075, -20.82468607320922], [165.19390734897067, -20.819010268684725], [165.197289475871, -20.815125880546724], [165.20925220736393, -20.815450628954412], [165.2121499034082, -20.818168004437272], [165.2126531141548, -20.821290641518964], [165.2178341573182, -20.821057432959595], [165.22981694310653, -20.82606521537523], [165.2330120929556, -20.83236751000152], [165.23192148921305, -20.83527551478181], [165.22569003543495, -20.841254835359525], [165.226499658929, -20.84522020584447], [165.22344281076408, -20.8523680451678], [165.2148919368196, -20.858410569966804], [165.2093288720777, -20.85859024609587], [165.20392431822813, -20.85643520753189], [165.19936437748987, -20.861769093929976], [165.1897389438462, -20.860530463435044], [165.1904636365238, -20.86808161046542], [165.18866061674956, -20.87171006921662], [165.1854180151381, -20.873343624066287], [165.17644587188408, -20.870312434424683], [165.1758056055802, -20.861386002824876], [165.1697270688081, -20.857735699742566], [165.16279487147185, -20.859163663498727], [165.1580240634162, -20.85251531266485], [165.154030413375, -20.853451575013292], [165.15034049994244, -20.85120098006352], [165.14665655163856, -20.851725595998886], [165.1433519264982, -20.850015624044822], [165.13860625909564, -20.852624263360017], [165.13226136131544, -20.850836074525223], [165.13352212198527, -20.855701624891015], [165.14032567695182, -20.858954561541346], [165.14125607690528, -20.868420696173086], [165.13860248430817, -20.87143580649511], [165.13471109300897, -20.872378334242253], [165.131913643729, -20.87118775688325], [165.13038260409795, -20.8681378706175], [165.12662925463383, -20.86807101671968], [165.1245771834007, -20.870129828688313], [165.13112513299595, -20.876286369523694], [165.13113034201587, -20.882288353118238], [165.12644683099995, -20.8870841782914], [165.12043616547135, -20.885663814989833], [165.1153776133403, -20.888156747418662], [165.10695443402219, -20.885331793900306], [165.10247785551365, -20.885736383455914], [165.0964705468742, -20.879760721367813], [165.09723477697287, -20.87487800065805], [165.10548175242235, -20.87044705089047], [165.10823796886692, -20.86622217217472], [165.10517654258518, -20.86304278744554], [165.10169587763616, -20.86201539664469], [165.10005818958405, -20.85943081748547], [165.09418329006886, -20.85904683375788], [165.0916481165771, -20.855254519160383], [165.08720109445832, -20.853601088156832], [165.0847411070869, -20.849194479464593], [165.0793824764967, -20.8498647564566], [165.07601895903184, -20.846109822508552], [165.07391189026245, -20.848525330168346], [165.07635749897722, -20.852019655812523], [165.07581615607333, -20.858067474009268], [165.07297354143554, -20.860262344798972], [165.06829011581743, -20.86008532874344], [165.06047718246663, -20.854478840891325], [165.05985849453864, -20.848939478050017], [165.05673358074938, -20.84660736083739], [165.0479035301054, -20.843846972604734], [165.04139867520266, -20.843704896679455], [165.03846239255432, -20.840447518943073], [165.03474350152652, -20.84141585541811], [165.0316514524881, -20.84038695670726], [165.0271518646393, -20.83300701756245], [165.027334866807, -20.828643869878096], [165.02903744662, -20.826366557032305]]]}, \"bbox\": [165.0271518646393, -20.888156747418662, 165.2330120929556, -20.809746825437145]}], \"bbox\": [165.0271518646393, -20.888156747418662, 165.2330120929556, -20.809746825437145]}", "shape_id": 175, "type": "hotspots"};
    var mapping = {"fields": {"elevation": {"data_source": {"name": "elevation", "type": "layer"}, "description": "Altitude metrics within the shape", "field_type": "JSON", "label": "Altitude", "transformations": [{"chart_options": {"title": "Median Altitude"}, "chart_type": "text", "name": "median"}, {"chart_options": {"title": "Maximum Altitude"}, "chart_type": "text", "name": "max"}, {"chart_options": {"title": "Elevation Distribution", "x_label": "Elevation (m)", "y_label": "Area (ha)"}, "chart_type": "stacked_bar", "data_structure": {"x_field": "altitudes", "y_fields": [{"color": "#4BC0C0", "label": "For\u00eat", "name": "forest"}, {"color": "#FF6384", "label": "Hors-for\u00eat", "name": "non_forest"}]}, "name": "elevation_distribution"}]}, "forest": {"data_source": {"name": "forest_cover", "type": "layer"}, "description": "Area covered by forest within the shape", "field_type": "TEXT", "label": "Forest Area", "transformations": [{"chart_options": {"title": "Forest Area"}, "chart_type": "text", "name": "area"}, {"chart_options": {"coordinates_field": "forest_coordinates", "title": "Forest Location"}, "chart_type": "map", "name": "coordinates"}]}, "forest_cover": {"data_source": {"name": "forest_cover", "type": "layer"}, "description": "Area covered by forest within the shape", "field_type": "JSON", "label": "Forest Area", "transformations": [{"chart_options": {"categories": ["UM", "Non-UM", "Commune"], "title": "Forest Cover"}, "chart_type": "donut", "layer_params": {"forest_cover": [{"name": "area"}, {"attribute": "cover_type"}], "soil_types": [{"attribute": "soil_category"}]}, "name": "percentage"}]}, "forest_fragmentation": {"data_source": {"name": "forest_cover", "type": "layer"}, "description": "Analysis of forest fragmentation", "field_type": "JSON", "label": "Forest Fragmentation", "transformations": [{"chart_options": {"bins": [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 125, 150, 175, 200, 225, 250, 275, 300, 325, 350, 375, 400, 425, 450, 475, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 7000, 12000, 17000, 27000, 500000], "title": "Forest Fragment Distribution", "x_label": "Area (ha)", "y_label": "Cumulative Area (%)"}, "chart_type": "line", "data_structure": {"color": "#4BC0C0", "x_field": "keys", "y_field": "values"}, "name": "fragment_size_distribution"}, {"chart_options": {"label": "Effective Mesh Size (km\u00b2)", "max": 1000, "min": 0, "title": "Fragmentation"}, "chart_type": "gauge", "name": "effective_mesh_size"}]}, "forest_humidity": {"data_source": [{"name": "forest_cover", "type": "layer"}, {"name": "holdridge", "type": "shape"}], "description": "Distribution of forests by humidity level", "field_type": "JSON", "label": "Forest and Living Environments", "transformations": [{"chart_options": {"categories": ["Dry", "Humid", "Very Humid"], "title": "Forest and Living Environments", "x_label": "Category", "y_label": "Frequency (%)"}, "chart_type": "stacked_bar", "layer_params": {"forest_cover": [{"name": "area"}], "humidity": [{"name": "value"}]}, "name": "category_distribution"}]}, "land_use": {"data_source": [{"name": "ultramafic", "type": "shape"}, {"name": "holdridge", "type": "shape"}, {"name": "forest_cover", "type": "layer"}], "description": "Land use distribution", "field_type": "JSON", "label": "Land Use", "transformations": [{"chart_options": {"title": "Land Use", "x_label": "Category", "y_label": "Area (ha)"}, "chart_type": "bar", "name": "category_distribution"}]}, "num_families": {"data_source": {"name": "occurrences", "type": "source"}, "description": "Total number of families in the zone", "field_type": "INTEGER", "label": "Number of Families", "transformations": [{"chart_options": {"title": "Number of Families"}, "chart_type": "text", "name": "unique_taxonomic_count", "target_ranks": ["family"]}]}, "num_occurrences": {"data_source": {"name": "occurrences", "type": "source"}, "description": "Total number of occurrences in the zone", "field_type": "INTEGER", "label": "Number of Occurrences", "source_field": "id_occurrence", "transformations": [{"chart_options": {"title": "Number of Occurrences"}, "chart_type": "text", "name": "count"}]}, "num_species": {"data_source": {"name": "occurrences", "type": "source"}, "description": "Total number of species in the zone", "field_type": "INTEGER", "label": "Number of Species", "transformations": [{"chart_options": {"title": "Number of Species"}, "chart_type": "text", "name": "unique_taxonomic_count", "target_ranks": ["species", "infra"]}]}, "rainfall": {"data_source": {"name": "rainfall", "type": "layer"}, "description": "Average annual rainfall within the shape", "field_type": "TEXT", "label": "Average Rainfall", "transformations": [{"chart_options": {"title": "Average Rainfall"}, "chart_type": "text", "name": "mean"}, {"chart_options": {"title": "Rainfall Range"}, "chart_type": "text", "name": "range"}]}, "shape": {"data_source": {"name": "self", "type": "shape"}, "description": "Total area of the reference zone", "field_type": "TEXT", "label": "Shape Area", "transformations": [{"chart_options": {"title": "Total Area"}, "chart_type": "text", "name": "area"}, {"chart_options": {"coordinates_field": "shape_coordinates", "title": "Location"}, "chart_type": "map", "name": "coordinates"}]}}, "group_by": "shape", "source_location_field": "geo_pt", "source_table_name": "occurrences"};
    var currentShapeType = "hotspots";

    document.addEventListener('DOMContentLoaded', function () {
        loadShapeCharts(shape, mapping);
        loadShapeTypeList();
        initShapeMaps(mapping, shape);
        loadAllShapesMap(shape);
    });

    function loadShapeCharts(shape, mapping) {
        Object.entries(mapping.fields).forEach(function([field_key, field]) {
            if (field.field_type !== 'TEXT' && shape[field_key] !== null) {
                // Handle bins chart if present
                if (field.bins && field.bins.values && field.bins.values.length > 0) {
                    var binChartId = field_key + 'BinChart';
                    var binCtx = document.getElementById(binChartId);
                    if (binCtx) {
                        createBinChart(binCtx, field, shape);
                    }
                }

                // Handle transformations
                field.transformations.forEach(function(transformation) {
                    var transformationName = transformation.name ? transformation.name : '';
                    var valueKey = field_key + '_' + transformationName;

                    if (shape[valueKey] !== null) {
                        switch(transformation.chart_type) {
                            case 'pie':
                                var pieChartId = field_key + 'PieChart';
                                var pieCtx = document.getElementById(pieChartId);
                                if (pieCtx) {
                                    createPieChart(pieCtx, transformation, shape[valueKey]);
                                }
                                break;
                            case 'gauge':
                                var gaugeId = field_key + transformationName + 'Gauge';
                                var gaugeElement = document.getElementById(gaugeId);
                                if (gaugeElement) {
                                    createGauge({
                                        id: gaugeId,
                                        value: parseFloat(shape[valueKey]),
                                        min: 0,
                                        max: transformation.chart_options.max,
                                        title: transformation.chart_options.title,
                                        label: transformation.chart_options.label
                                    });
                                }
                                break;
                            case 'bar':
                                var barChartId = field_key + transformationName + 'BarChart';
                                var barCtx = document.getElementById(barChartId);
                                if (barCtx) {
                                    createBarChart(barCtx, field, transformation, shape[valueKey]);
                                }
                                break;
                            case 'stacked_bar':
                                if (field_key === 'elevation' && transformationName === 'elevation_distribution') {
                                    var stackedBarChartId = 'elevationDistributionChart';
                                    var stackedBarCtx = document.getElementById(stackedBarChartId);
                                    if (stackedBarCtx) {
                                        createElevationDistributionChart(stackedBarCtx, shape.elevation_elevation_distribution, transformation);
                                    }
                                }
                                break;
                            case 'line':
                                if (field_key === 'forest_fragmentation' && transformationName === 'fragment_size_distribution') {
                                    var lineChartId = 'forestFragmentationChart';
                                    var lineCtx = document.getElementById(lineChartId);
                                    if (lineCtx) {
                                        createForestFragmentationChart(lineCtx, shape.forest_fragmentation_fragment_size_distribution, transformation);
                                    }
                                }
                                break;
                        }
                    }
                });
            }
        });
    }

    function createBinChart(ctx, field, shape) {
        var binData = {
            labels: field.bins.values,
            datasets: [{
                label: field.label,
                data: field.bins.values.map(value => shape.frequencies[field.field_key][value] || 0),
                backgroundColor: field.bins.chart_options.color
            }]
        };

        new Chart(ctx, {
            type: field.bins.chart_type,
            data: binData,
            options: field.bins.chart_options
        });
    }

    function createPieChart(ctx, transformation, data) {
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['True', 'False'],
                datasets: [{
                    data: [data.true || 0, data.false || 0],
                    backgroundColor: ['#FF6384', '#36A2EB']
                }]
            },
            options: {
                title: {
                    display: true,
                    text: transformation.chart_options.title
                }
            }
        });
    }

    function createBarChart(ctx, field, transformation, data) {
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: Object.keys(data),
                datasets: [{
                    label: field.label,
                    data: Object.values(data),
                    backgroundColor: getColor(0).background,
                    borderColor: getColor(0).border,
                    borderWidth: 1
                }]
            },
            options: transformation.chart_options
        });
    }

    function createElevationDistributionChart(ctx, elevationData, chartConfig) {
        const altitudes = elevationData.altitudes.reverse();
        const forestData = elevationData.forest.reverse();
        const nonForestData = elevationData.non_forest.reverse();

        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: altitudes,
                datasets: [
                    {
                        label: 'Forest',
                        data: forestData,
                        backgroundColor: '#4CAF50',
                        stack: 'Stack 0',
                    },
                    {
                        label: 'Non-Forest',
                        data: nonForestData,
                        backgroundColor: '#FFF59D',
                        stack: 'Stack 0',
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                scales: {
                    x: {
                        stacked: true,
                        title: {
                            display: true,
                            text: 'Area (ha)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toLocaleString(); // Format les grands nombres
                            }
                        }
                    },
                    y: {
                        stacked: true,
                        title: {
                            display: true,
                            text: 'Elevation (m)'
                        },
                        reverse: false
                    }
                },
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                layout: {
                    padding: {
                        left: 10,
                        right: 10,
                        top: 0,
                        bottom: 10
                    }
                }
            }
        });
    }

    function createForestFragmentationChart(ctx, fragmentationData, chartConfig) {
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: Object.keys(fragmentationData),
                datasets: [{
                    label: 'Cumulative Area (%)',
                    data: Object.values(fragmentationData),
                    borderColor: '#4BC0C0',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: chartConfig.chart_options.x_label
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: chartConfig.chart_options.y_label
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: chartConfig.chart_options.title
                    }
                }
            }
        });
    }

    function createGauge(options) {
        new JustGage({
            id: options.id,
            value: options.value || 0,
            min: options.min || 0,
            max: options.max,
            title: options.title,
            label: options.label,
            pointer: true,
            pointerOptions: {
                toplength: 10,
                bottomlength: 10,
                bottomwidth: 2,
                color: '#8e8e93',
                stroke: '#ffffff',
                stroke_width: 3,
                stroke_linecap: 'round'
            },
            gaugeWidthScale: 0.6,
            counter: true,
            donut: true,
            relativeGaugeSize: true,
            donutStartAngle: 270,
            hideInnerShadow: true,
            customSectors: [{
                color: "#ff0000",
                lo: 0,
                hi: options.max * 0.33
            }, {
                color: "#ffff00",
                lo: options.max * 0.33,
                hi: options.max * 0.66
            }, {
                color: "#00ff00",
                lo: options.max * 0.66,
                hi: options.max
            }],
            humanFriendly: true,
            formatNumber: true,
            textRenderer: function (val) {
                return parseFloat(val).toFixed(2);
            }
        });
    }

    // Function to get a color based on the index
    function getColor(index) {
        var colors = [
            {background: 'rgba(54, 162, 235, 0.6)', border: 'rgba(54, 162, 235, 1)'},
            {background: 'rgba(75, 192, 192, 0.6)', border: 'rgba(75, 192, 192, 1)'},
            {background: 'rgba(255, 99, 132, 0.6)', border: 'rgba(255, 99, 132, 1)'}
        ];
        return colors[index % colors.length];
    }

// Rest of the code (loadShapeTypeList, initShapeMaps, loadAllShapesMap) remains the same...

    let maps = {};  // Object to keep track of initialized maps

    function initMap(field_key, geometry) {
        const mapId = field_key + 'Map';
        const mapLoaderId = field_key + 'MapLoader';

        // Check if the map already exists
        if (maps[mapId]) {
            return; // Map is already initialized, so do nothing
        }

        const satellite = L.tileLayer.wms("https://carto10.gouv.nc/arcgis/services/fond_imagerie/MapServer/WMSServer", {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const carte = L.tileLayer.wms('https://carto.gouv.nc/arcgis/services/fond_cartographie/MapServer/WMSServer', {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const map = L.map(mapId, {
            layers: [carte, satellite],
            scrollWheelZoom: false
        });
        map.attributionControl.setPrefix(false); // Remove the "Powered by Leaflet" prefix
        map.attributionControl.addAttribution("<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>");

        const baseMaps = {
            "Carte": carte,
            "Satellite": satellite,
        };

        L.control.layers(baseMaps).addTo(map);

        map.on('load', function () {
            document.getElementById(mapLoaderId).style.display = 'none';
        });

        if (geometry) {
            const geoJsonLayer = L.geoJSON(geometry, {
                style: function() {
                    return {
                        color: '#228b22', // Border color
                        weight: 2,       // Border width
                        fillColor: '#228b22cc', // Fill color with opacity
                        fillOpacity: 0.8 // Fill opacity
                    };
                }
            }).addTo(map);
            map.fitBounds(geoJsonLayer.getBounds());
        } else {
            console.warn("No geographic coordinates found.");
            // Set default view if no geometry is found
            map.setView([-21.291237, 165.516418], 10);
        }

        // Store the map instance in the maps object
        maps[mapId] = map;
    }

    function initShapeMaps(mapping, shape) {
        Object.entries(mapping.fields).forEach(function([field_key, field]) {
            field.transformations.forEach(function(transformation) {
                if (transformation.chart_type === 'map') {
                    var coordinatesField = transformation.chart_options.coordinates_field;
                    var geometry = shape[coordinatesField];

                    // Check if geometry is a string, if so, parse it as JSON
                    if (typeof geometry === 'string') {
                        try {
                            geometry = JSON.parse(geometry);
                        } catch (e) {
                            console.error("Invalid JSON for field", coordinatesField, ":", geometry);
                            return; // Skip this field if JSON is invalid
                        }
                    }

                    // Initialize the map with the parsed geometry
                    initMap(field_key, geometry);
                }
            });
        });
    }

    function loadAllShapesMap(currentShape) {
        const mapId = 'allShapesMap';
        const satellite = L.tileLayer.wms("https://carto10.gouv.nc/arcgis/services/fond_imagerie/MapServer/WMSServer", {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const carte = L.tileLayer.wms('https://carto.gouv.nc/arcgis/services/fond_cartographie/MapServer/WMSServer', {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const map = L.map(mapId, {
            layers: [carte, satellite],
            scrollWheelZoom: false
        });
        map.attributionControl.setPrefix(false); // Remove the "Powered by Leaflet" prefix
        map.attributionControl.addAttribution("<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>");

        const baseMaps = {
            "Carte": carte,
            "Satellite": satellite,
        };

        L.control.layers(baseMaps).addTo(map);

        var group = L.featureGroup(); // Create a group to hold all the layers

        shapeTypes.forEach(function(shapeTypeItem) {
            if (shapeTypeItem.type === currentShape.type) {
                shapeTypeItem.shapes.forEach(function(shapeItem) {
                    var geometry = shapeItem.geometry;
                    // No need to parse geometry if it's already GeoJSON
                    var layer = L.geoJSON(geometry, {
                        style: function() {
                            return {
                                color: '#228b22', // Border color
                                weight: 2,       // Border width
                                fillColor: '#228b22cc', // Fill color with opacity
                                fillOpacity: 0.8 // Fill opacity
                            };
                        }
                    }).addTo(map);
                    group.addLayer(layer); // Add each layer to the group

                    // Highlight current shape
                    if (shapeItem.id === currentShape.id) {
                        layer.setStyle({color: 'red', weight: 3, fillOpacity: 0.4});
                        layer.bringToFront(); // Ensure the highlighted shape is on top
                    } else {
                        layer.setStyle({fillOpacity: 0.2}); // Reduce opacity for other shapes
                    }

                    // Show tooltip on hover with additional content
                    var tooltipContent = "<strong>" + shapeItem.name + "</strong><br>";

                    


                    layer.bindTooltip(tooltipContent, {
                        permanent: false,
                        direction: 'right',
                        offset: L.point(10, 0),
                        opacity: 0.9,
                        className: 'custom-tooltip'
                    });


                    layer.on('mousemove', function(e) {
                        var tooltip = e.target.getTooltip();
                        tooltip.setLatLng(e.latlng);
                    });

                    layer.on('click', function() {
                        window.location.href = '../shape/' + shapeItem.id + '.html';
                    });
                });
            }
        });

        map.fitBounds(group.getBounds()); // Adjust the view to fit the bounds of the group

        map.attributionControl.setPrefix(false);
        map.attributionControl.addAttribution("<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>");

        maps['allShapesMap'] = map;
    }

    function loadShapeTypeList() {
            var shapeTypeListElement = document.getElementById("shape-type-list");
            shapeTypes.forEach(function (shapeTypeItem) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                a.href = "javascript:void(0)";
                a.textContent = shapeTypeItem.type;
                a.className = "shape-type-link";
                if (shapeTypeItem.type === currentShapeType) {
                    a.classList.add("active");
                }
                a.onclick = function () {
                    if (shapeTypeItem.shapes.length > 0) {
                        // Redirect to the first shape of the selected type
                        window.location.href = "../shape/" + shapeTypeItem.shapes[0].id + ".html";
                    }
                    loadShapeList(shapeTypeItem.shapes);
                };
                li.appendChild(a);
                shapeTypeListElement.appendChild(li);
            });
        }

        function loadShapeList(shapes) {
            var shapeListElement = document.getElementById("shape-list");
            shapeListElement.innerHTML = ''; // Clear the previous list
            shapes.forEach(function (shapeItem) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                a.href = "../shape/" + shapeItem.id + ".html";
                a.textContent = shapeItem.name;
                a.className = "shape-link";
                if (shapeItem.id === shape.id) {
                    a.classList.add("active");
                }
                li.appendChild(a);
                shapeListElement.appendChild(li);
            });
        }

</script>

</body>
</html>