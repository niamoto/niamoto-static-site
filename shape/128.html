<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Niamoto - Nakety_Dothio</title>
    <link rel="stylesheet" href="../js/vendor/tailwindcss/2.2.19_dist_tailwind.css">
    <link rel="stylesheet" href="../js/vendor/leaflet/1.9.4_leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    
<script src="../js/shape_list.js"></script>

<style>
    #shape-type-list li, #shape-list li {
        list-style: none;
        text-transform: capitalize;
    }

    .shape-type-link, .shape-link {
        display: block;
        padding: 10px;
        border-radius: 5px;
        text-decoration: none;
    }

    .shape-type-link:hover, .shape-link:hover {
        background-color: #f0f0f0;
    }

    .shape-type-link.active, .shape-link.active {
        background-color: #3498db;
        color: #fff;
    }

    #shapeMap, #allShapesMap {
        position: relative;
        height: 300px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    #allShapesMap {
        height: 400px;
    }

    .chart-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    .chart-container > div {
        flex: 1 1 calc(33.333% - 10px);
        margin: 5px;
    }
    .custom-tooltip {
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #ccc;
    padding: 5px;
    border-radius: 5px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    font-size: 12px;
    max-width: 300px;
    word-wrap: break-word;
}
</style>

    <style>
        .gauge {
            height: 349px;
        }

        ul {
            list-style-type: none;
        }

        .loader-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <nav class="nav-bg p-4 fixed w-full top-0 shadow-md z-50 custom-nav">
    <div class="container mx-auto flex flex-wrap items-center justify-between">
        <div class="flex items-center flex-shrink-0 text-white mr-6">
            <a id="home-link" class="inline-flex items-center py-2 px-4 text-white no-underline" href="#" data-link="index.html">
                <span class="site-title">Niamoto</span>
            </a>
        </div>

        <div class="block lg:hidden">
            <button id="nav-toggle"
                class="flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white">
                <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <title>Menu</title>
                    <path d="M0 3h20v2H0zm0 6h20v2H0zm0 6h20v2H0z" />
                </svg>
            </button>
        </div>
        <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block pt-6 lg:pt-0" id="nav-content">
            <ul class="list-reset lg:flex justify-end flex-1 items-center">
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="index.html">
                        <i class="fas fa-home menu-icon"></i>Accueil
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#introduction">Introduction</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#project">Projet</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#objective">Objectifs</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#context">Contexte</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="index.html#flora">Flore</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="methodology.html">
                        <i class="fas fa-flask menu-icon"></i>Méthodologie
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="methodology.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="methodology.html#methodes">Nos méthodes</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="methodology.html#faq">FAQ</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="trees.html">
                        <i class="fas fa-leaf menu-icon"></i>Arbres
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="trees.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="trees.html#learnTaxon">Étudier les
                arbres</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="trees.html#taxon">Les arbres de
                Nouvelle-Calédonie</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="plots.html">
                        <i class="fas fa-map-marked-alt menu-icon"></i>Peuplements
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="plots.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="plots.html#learnPlot">Étudier les
                            peuplements forestiers</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="plots.html#plot">Les
                peuplements forestiers de Nouvelle-Calédonie</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="forests.html">
                        <i class="fas fa-tree menu-icon"></i>Forêt
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#preambule">Préambule</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#learnForest">Étudier les
                forêts</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#forestPN">La forêt de la
                province Nord</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="forests.html#forestPS">La forêt de la
                province Sud</a></li>
                    </ul>
                </li>
                <li class="relative group mr-3">
                    <a class="nav-link inline-block py-2 px-4 text-white no-underline" href="#" data-link="resources.html">
                        <i class="fas fa-book menu-icon"></i>Ressources
                    </a>
                    <ul class="absolute hidden text-gray-700 pt-1 group-hover:block bg-white shadow-lg rounded-md z-50 w-48 custom-dropdown">
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#equipe">L'équipe</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#article">Articles</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#academic">Académique</a></li>
                        <li><a class="py-2 px-4 block whitespace-no-wrap hover:bg-gray-100" href="#" data-link="resources.html#media-production">Médias</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
  document.getElementById('nav-toggle').onclick = function () {
    document.getElementById('nav-content').classList.toggle('hidden');
  };

  // Function to adjust the navigation links based on page depth
  function adjustNavLinks(depth) {
    document.querySelectorAll('a[data-link]').forEach(link => {
      link.href = depth + link.getAttribute('data-link');
    });
  }

  // Adjust the navigation links based on the depth
  adjustNavLinks("../");
</script>

<style>
    .site-title {
        font-family: 'Arial Black', sans-serif; /* Custom font for a bold effect */
        font-size: 2rem; /* Increased font size */
        text-transform: uppercase; /* Uppercase letters for visibility */
        letter-spacing: 2px; /* Spacing between letters */
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7); /* Text shadow for better visibility */
        transition: color 0.3s; /* Smooth transition for hover effect */
    }

    .site-title:hover {
        color: #ffdd57; /* Change color on hover */
    }

    .text-contour {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    }

    .nav-bg {
        background-color: rgba(34, 139, 34, 0.8); /* Fond vert semi-transparent */
        transition: background-color 0.3s;
    }

    .nav-bg:hover {
        background-color: rgba(34, 139, 34, 1); /* Fond vert opaque au survol */
    }

    .group:hover .group-hover\:block {
        display: block;
    }

    .custom-nav {
        z-index: 500;
    }

    .custom-dropdown {
        z-index: 500;
    }

    .nav-link:hover {
        background-color: rgba(255, 255, 255, 0.2); /* Fond blanc transparent au survol */
        border-radius: 4px;
    }

    .menu-icon {
        margin-right: 8px;
    }
</style>
    <div class="flex">
        
<aside class="w-1/4 p-4 mt-28">
    <h2 class="font-semibold text-lg mb-4">Shape Types</h2>
    <ul id="shape-type-list" class="list-disc pl-5">
        <!-- The list of shape types will be generated by JavaScript -->
    </ul>
</aside>

        <div class="w-full">
            
<div id="allShapesMap" class="mt-28"></div>

<div class="rounded overflow-hidden shadow-lg mb-2 mt-8">
    <div class="px-6 py-4">
        <div class="font-bold text-4xl mb-2">Nakety_Dothio</div>
    </div>
</div>

<div class="chart-container">
    <!-- Section for general information -->
    <div>
        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
            <h2 class="font-bold text-xl mb-2">General Information</h2>
            
                
                    
                        
                        
                            <p>Shape Area (Total Area): 8377.96668534333</p>
                        
                    
                
                    
                
            
                
                    
                        
                        
                            <p>Forest Area (Forest Area): 1318.4506900115814</p>
                        
                    
                
                    
                
            
                
                    
                        
                        
                            <p>Number of Families (Number of Families): 73</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Number of Species (Number of Species): 281</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Number of Occurrences (Number of Occurrences): 1242</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Average Rainfall (Average Rainfall): 1666.875</p>
                        
                    
                
                    
                        
                        
                            <p>Average Rainfall (Rainfall Range): {"min": 1435.0, "max": 2120.0}</p>
                        
                    
                
            
                
                    
                        
                        
                            <p>Altitude (Median Altitude): 228.0</p>
                        
                    
                
                    
                        
                        
                            <p>Altitude (Maximum Altitude): 563.0</p>
                        
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
        </div>
    </div>

    <!-- Section for shape map -->
    <div>
        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
            <h2 class="font-bold text-xl mb-2">Shape Map</h2>
            <div id="shapeMap" style="height: 400px; position: relative;">
                <div class="loader-container" id="shapeMapLoader">
                    <div class="loader"></div>
                </div>
                <!-- The Leaflet map will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Section for forest map -->
    <div>
        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
            <h2 class="font-bold text-xl mb-2">Forest Map</h2>
            <div id="forestMap" style="height: 400px; position: relative;">
                <div class="loader-container" id="forestMapLoader">
                    <div class="loader"></div>
                </div>
                <!-- The Leaflet map will be loaded here -->
            </div>
        </div>
    </div>
</div>

<div class="flex flex-wrap -mx-2">
    

    

    
    
        
    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
    
        
            
            

            
            
                
            
                
            
                
                    <div class="w-1/2 px-2 mb-4">
                        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
                            
    
        
            <h2 class="font-bold text-xl mb-2">Elevation Distribution</h2>
        
    
    
        <canvas id="elevationDistributionChart"></canvas>
    
    
                        </div>
                    </div>
                
            

    
        
    
        
            
            

            
            
                
                    <div class="w-1/2 px-2 mb-4">
                        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
                            
    
        
            <h2 class="font-bold text-xl mb-2">Forest Fragment Distribution</h2>
        
    
    
        <canvas id="forestFragmentationChart"></canvas>
    
    
                        </div>
                    </div>
                
            
                
                    <div class="w-1/2 px-2 mb-4">
                        <div class="rounded overflow-hidden shadow-lg p-4 bg-white">
                            
    
        
            <h2 class="font-bold text-xl mb-2">Fragmentation</h2>
        
    
    
        <div class="gauge" id="forest_fragmentationeffective_mesh_sizeGauge"></div>
    
    
                        </div>
                    </div>
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
        
            
            

            
            
                
            

    
        
    
</div>

        </div>
    </div>
    <footer class="bg-green-700 text-white p-4 mt-8">
        <div class="container mx-auto">
            <div class="flex justify-center mb-4">
                <div class="bg-white p-2 rounded-lg shadow-md flex justify-center">
                    <figure class="mx-2"><img class="img-fluid" src="../files/ps_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/pn_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/amap_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/herbarium_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/iac_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/ird_100.png"></figure>
                    <figure class="mx-2"><img class="img-fluid" src="../files/cirad_100.png"></figure>
                </div>
            </div>
            <div class="text-center">
                <p>Niamoto - Portail de la forêt de Nouvelle-Calédonie</p>
                <a class="inline-block py-2 px-4 text-white no-underline" href="https://github.com/niamoto/niamoto" target="_blank">
                    <span class="fab fa-github fa-lg" aria-hidden="true"></span> Github
                </a>
            </div>
        </div>
    </footer>
    <script src="../js/vendor/chart/4.4.2_chart.js"></script>
    <script src="../js/vendor/d3/7.8.5_d3.js"></script>
    <script src="../js/vendor/jquery/3.6.0_jquery.js"></script>
    <script src="../js/vendor/raphael/2.3.0_raphael.js"></script>
    <script src="../js/vendor/justgage/1.6.1_justgage.js"></script>
    <script src="../js/vendor/leaflet/1.9.4_leaflet.js"></script>
    
<script>
    var shape = {"elevation_elevation_distribution": {"altitudes": [-5.0, 95.0, 195.0, 295.0, 395.0, 495.0], "forest": [315.60380299046824, 360.05504284828066, 276.7089681148824, 223.36748028550747, 142.24396754499978, 26.670743914687456], "non_forest": [1069.052318580389, 1070.1635995768343, 960.1467809287485, 930.1421940247251, 770.1177305366003, 337.82942291937445]}, "elevation_max": 563.0, "elevation_median": 228.0, "forest_area": "1318.4506900115814", "forest_coordinates": "{\"type\": \"MultiPolygon\", \"coordinates\": [[[[166.0915775201, -21.576132703099976], [166.09467778688773, -21.57483769335811], [166.09636083906096, -21.575980036462106], [166.09933339160895, -21.573204214144365], [166.09573070997325, -21.571012044996063], [166.09491350464086, -21.571619941175285], [166.0971205043766, -21.57375372977888], [166.09421647299484, -21.571696227145534], [166.09285392084453, -21.57445435444923], [166.09145714583866, -21.57463367015944], [166.0919619948, -21.572954956299977], [166.09062965420003, -21.574272881599974], [166.0909247643, -21.571446257299975], [166.09313546582294, -21.569638191113206], [166.09085211950347, -21.570194104018707], [166.09164823801166, -21.56697043873344], [166.09009367565304, -21.565103660196176], [166.08881613016587, -21.568195818187363], [166.08985924562947, -21.573303842884116], [166.0886711452094, -21.573190690463154], [166.08807377963893, -21.56823963596387], [166.08686505419064, -21.5709238493461], [166.08815252994665, -21.574237350357045], [166.08563124110628, -21.573254071762857], [166.0867897092668, -21.570160981992572], [166.08634705783948, -21.568682337862928], [166.08473513188008, -21.56934042920603], [166.08443347816228, -21.566437012172173], [166.08561181299746, -21.563816395498744], [166.08737460191088, -21.5644479829704], [166.0902835737476, -21.56272124083504], [166.08734537807985, -21.561863622258628], [166.08898413017258, -21.561562242563415], [166.08847124248086, -21.559622948406087], [166.08648874250343, -21.560235555275636], [166.08615987204607, -21.563137538803048], [166.08491119304753, -21.56339861906358], [166.08577496186714, -21.560435853866593], [166.08379511461106, -21.558735176307714], [166.0844713739136, -21.56469118625103], [166.08254827253128, -21.56596541876771], [166.08393536654813, -21.564802072855066], [166.08217898239633, -21.564507457311425], [166.08338203814654, -21.56252474122768], [166.07597209084196, -21.561120223808555], [166.07534047493405, -21.557554422059823], [166.07051082687386, -21.556759629056312], [166.06781822559566, -21.554065197669562], [166.06949710978228, -21.55022649775309], [166.06778619238352, -21.550630140948734], [166.06333183769618, -21.545221582957772], [166.06541111831856, -21.543845666678443], [166.06671040708412, -21.54462691274669], [166.06582353361597, -21.54574325887586], [166.07213815769518, -21.546954667179058], [166.0730924147825, -21.548088900998486], [166.07180050108693, -21.550760260564555], [166.07494995371582, -21.549607020204462], [166.0753649510203, -21.54767543888338], [166.0776739714057, -21.547936600424443], [166.07826631170173, -21.5544508857899], [166.07872418830448, -21.552103123655137], [166.0816197384413, -21.555810823101115], [166.0826133082675, -21.554569707688408], [166.08228580826983, -21.55278634640435], [166.08161437715245, -21.555488015567523], [166.07845328855905, -21.549501136004924], [166.08181547361832, -21.550702832490778], [166.08305067742344, -21.554631402177158], [166.08490021136595, -21.55390231170621], [166.08567022272882, -21.555403130265113], [166.0899433593691, -21.554866129009138], [166.09002605812398, -21.552802187086122], [166.09211306561724, -21.55592676050308], [166.09731466465988, -21.553806543502002], [166.10111220888845, -21.554824247662513], [166.09096405178747, -21.55745738831305], [166.09248610597314, -21.559633162920854], [166.09425091116293, -21.55789975793012], [166.10148333003164, -21.557193463769284], [166.10425786342813, -21.56447515759333], [166.10539717079183, -21.56106372596462], [166.1095860491723, -21.56261098632384], [166.11116017055832, -21.560226239553423], [166.1168695455844, -21.5608611635929], [166.11593469397098, -21.55774522759909], [166.11618481744216, -21.556373973451798], [166.11655108329327, -21.55916087228167], [166.11826924279475, -21.556309807637685], [166.11746655660332, -21.559592141089613], [166.12066612290212, -21.56099759830755], [166.1223204084088, -21.557586994115795], [166.12092537867747, -21.55669153584232], [166.12115159971498, -21.555324783740694], [166.12329127369478, -21.556880053373572], [166.12519530076048, -21.55588091045791], [166.12618501779957, -21.556795220484513], [166.12168887467908, -21.559368484786184], [166.12213515412006, -21.561640233701326], [166.12393379437043, -21.562280632828596], [166.12093127972912, -21.56396912916881], [166.12283101758067, -21.565155544281556], [166.12481864732965, -21.56271206608131], [166.12386939244482, -21.565859172808196], [166.12917358702157, -21.565989539149285], [166.12693928221307, -21.56167775750203], [166.12799244312896, -21.5602824043189], [166.13038018740602, -21.564065843997827], [166.12998339796226, -21.56614555451293], [166.12888082594475, -21.567399083771953], [166.1224995000635, -21.566258800553683], [166.11792794993048, -21.569133692905375], [166.1169288070148, -21.567908328952193], [166.11560144783277, -21.572534879034308], [166.12122404430772, -21.574736212174912], [166.12174125112796, -21.576537961924416], [166.12308861734866, -21.575637547733805], [166.12352220767056, -21.579087418555837], [166.12513085736776, -21.58048323655376], [166.1235976146831, -21.57587319464788], [166.12958304630052, -21.577946887491727], [166.13133625934123, -21.580067709718374], [166.13455048324917, -21.57984148868087], [166.13593608710391, -21.576683820032287], [166.14073385827444, -21.582301642463793], [166.1429300875136, -21.58776865087028], [166.1389297360626, -21.586631688434874], [166.13876590004512, -21.582183638118977], [166.13667130547586, -21.580835918658252], [166.1335607662101, -21.58097730680669], [166.13278879222372, -21.58280235900561], [166.132594013264, -21.58095845505357], [166.1313274782769, -21.582803410304884], [166.12622629116032, -21.58280708020369], [166.1252559864414, -21.58119629804591], [166.12255306649183, -21.582367353966774], [166.11772161575206, -21.579088113259306], [166.1163210307475, -21.576408697083583], [166.10721757607146, -21.576485509938802], [166.10689124537458, -21.57510814454112], [166.10786620579685, -21.573870574975597], [166.10542452466973, -21.573210384518855], [166.10528809199877, -21.57650135817997], [166.0915775201, -21.576132703099976]], [[166.1048532743641, -21.569537248682025], [166.10426580102052, -21.57058300890821], [166.10145095243792, -21.56937547341777], [166.10177258419677, -21.571359599131238], [166.10828224821574, -21.572361214154455], [166.1048532743641, -21.569537248682025]], [[166.11943563408812, -21.576685279025217], [166.11873262995908, -21.576702460917588], [166.11862251185357, -21.576848220185514], [166.11934431221076, -21.577447665860028], [166.11943563408812, -21.576685279025217]], [[166.12085468460327, -21.579059140926145], [166.12097722099858, -21.578512440085497], [166.11897588749997, -21.57765479874503], [166.11908338543313, -21.579490342028514], [166.12085468460327, -21.579059140926145]], [[166.10140720734154, -21.568658703795705], [166.1041876543256, -21.566338541228152], [166.11350721382246, -21.571923752368], [166.11597679348193, -21.566437892208384], [166.11169744552237, -21.569237377547577], [166.11347893619276, -21.566711242628703], [166.11170687139892, -21.56754071976624], [166.11101878240984, -21.566353059319308], [166.11401621115684, -21.566098560652122], [166.1135731949584, -21.564420754623924], [166.115156118362, -21.56318573158073], [166.10662705141038, -21.567573623421914], [166.10077297609212, -21.563851428443947], [166.1011429283396, -21.567161797490336], [166.09745270737835, -21.56574485555866], [166.09420940365152, -21.566241296629755], [166.09785734970984, -21.56654529671764], [166.099919518277, -21.568589655836107], [166.09646126735302, -21.569480093912127], [166.10066362103368, -21.571703947637076], [166.10140720734154, -21.568658703795705]], [[166.0830100497, -21.55977235029997], [166.08338245020894, -21.55850385423512], [166.0829409530404, -21.558436134859843], [166.0819394471062, -21.560564024725476], [166.0830100497, -21.55977235029997]], [[166.0802951662, -21.559027642699974], [166.0800594993, -21.557783321099983], [166.0790602713, -21.559055922799978], [166.0807139237028, -21.56085626492167], [166.0812943942, -21.557311987199977], [166.0802951662, -21.559027642699974]], [[166.07586591923643, -21.5561003898113], [166.0755101627899, -21.557120775317085], [166.0776972507098, -21.559458696886644], [166.07770176691142, -21.557925126684456], [166.07586591923643, -21.5561003898113]], [[166.09809156902438, -21.565073780871057], [166.09641614089165, -21.563577448475954], [166.09499130569742, -21.564628094383888], [166.09758377320253, -21.564826155659574], [166.09809156902438, -21.565073780871057]], [[166.08887306868496, -21.556271395262414], [166.08899195847073, -21.555768675071196], [166.08863659568289, -21.55539812407093], [166.0884267171946, -21.556034094752548], [166.08887306868496, -21.556271395262414]], [[166.09870073653596, -21.56453197043441], [166.09975714537595, -21.565356790328675], [166.09964893875622, -21.56320632587533], [166.0993705722721, -21.56390371048575], [166.09870073653596, -21.56453197043441]], [[166.09078263921703, -21.560496743487086], [166.09072780820293, -21.561364746638347], [166.0914787170555, -21.561323977069012], [166.09129501564792, -21.560335635562417], [166.09078263921703, -21.560496743487086]], [[166.09441982462053, -21.569170840256348], [166.0948552308551, -21.5699854277435], [166.0960845801579, -21.569339160725807], [166.0951354771654, -21.56851361287679], [166.09441982462053, -21.569170840256348]], [[166.10416369184696, -21.572283113538827], [166.1039094231519, -21.572112704811687], [166.1032595291935, -21.57233929839705], [166.10462031064296, -21.572853732597714], [166.10416369184696, -21.572283113538827]], [[166.10917361530215, -21.571805254491764], [166.10975920179803, -21.57219573576902], [166.1099122952706, -21.57216603349659], [166.1088699664023, -21.571190606763874], [166.10917361530215, -21.571805254491764]], [[166.11065318028102, -21.571809737439988], [166.1105869219874, -21.57216870767412], [166.1114384586256, -21.572249075089026], [166.11085851122667, -21.571593251220683], [166.11065318028102, -21.571809737439988]], [[166.11356671254222, -21.574880799173318], [166.11363105210216, -21.57527474990153], [166.11483697374032, -21.574578308920884], [166.11352685035754, -21.57453604829457], [166.11356671254222, -21.574880799173318]], [[166.07223028215577, -21.555006108633297], [166.07417755129828, -21.556090680239077], [166.07522990907614, -21.5543127454877], [166.0744915057507, -21.553966145144074], [166.07223028215577, -21.555006108633297]], [[166.08420739630023, -21.555566820295326], [166.08388850480816, -21.55494504940449], [166.08329901087086, -21.55504209979054], [166.08368422588157, -21.55633747993689], [166.08420739630023, -21.555566820295326]], [[166.10714846452694, -21.575665739662565], [166.10741149880184, -21.575979496171993], [166.10807386544195, -21.57638381336523], [166.10776227226512, -21.575733364113297], [166.10714846452694, -21.575665739662565]], [[166.08717484940917, -21.557447962436488], [166.08628881701225, -21.55780614574588], [166.0861757064935, -21.55819260668496], [166.08779695726233, -21.557853275128696], [166.08717484940917, -21.557447962436488]], [[166.09960758059563, -21.558531938241224], [166.0986461411862, -21.55902208382249], [166.09866499293935, -21.559417970638137], [166.09972069111438, -21.559446248267815], [166.09960758059563, -21.558531938241224]]], [[[166.0798708545897, -21.561865313230392], [166.08104043301046, -21.564813571566567], [166.07927878610525, -21.565296627540363], [166.081369332851, -21.56675151647448], [166.0746053620217, -21.56636507347023], [166.06985603086764, -21.56322385959104], [166.07188956600467, -21.563138213066537], [166.07031582898017, -21.560502748555304], [166.06845844033103, -21.560808278667345], [166.06975962989708, -21.557530854302065], [166.07060806917636, -21.559746223531285], [166.07544417306826, -21.562218481320063], [166.07935746919273, -21.56369643586978], [166.0798708545897, -21.561865313230392]]], [[[166.07458970484495, -21.55866275811965], [166.0748645657226, -21.559898358352125], [166.0731492714433, -21.559274560734398], [166.07330008696312, -21.558315393111428], [166.07458970484495, -21.55866275811965]]], [[[166.1164484106492, -21.552721659929954], [166.1166463206545, -21.553595716011476], [166.11573655564214, -21.553588445892583], [166.11587586981227, -21.553041847631846], [166.1164484106492, -21.552721659929954]]], [[[166.1114555625654, -21.55100963006438], [166.1124162148771, -21.550731540405966], [166.1097218692858, -21.55317587908106], [166.1094086663783, -21.552075125106196], [166.1114555625654, -21.55100963006438]]], [[[166.07019138322033, -21.54426217711496], [166.0705815478388, -21.543793431719635], [166.0717110361553, -21.545356942264654], [166.06992924242783, -21.545347379748943], [166.07019138322033, -21.54426217711496]]], [[[166.06320053762326, -21.54498498216187], [166.062672446282, -21.54403336934947], [166.0632306526463, -21.543990978761364], [166.06320053762326, -21.54498498216187]]], [[[166.06866515953436, -21.5440554817858], [166.06837966737046, -21.544842214147707], [166.06824421378852, -21.54480727310124], [166.06797936565417, -21.543999762871294], [166.06866515953436, -21.5440554817858]]], [[[166.11123168198654, -21.542564079986406], [166.11259890301187, -21.543339257831313], [166.1116848962517, -21.544734394630293], [166.11071393597317, -21.54292407108227], [166.11123168198654, -21.542564079986406]]], [[[166.0626801396872, -21.542464810606727], [166.0643973581278, -21.541464305917547], [166.06372262099632, -21.542479676343792], [166.06521108795548, -21.54269246626059], [166.06291273866483, -21.543883122229012], [166.0626801396872, -21.542464810606727]]], [[[166.0622980711, -21.54205234469998], [166.062137861, -21.542287947899982], [166.062018331587, -21.542363340799984], [166.0623546159, -21.541788469299984], [166.0622980711, -21.54205234469998]]], [[[166.07305361078957, -21.53994318143787], [166.0761469830207, -21.540814203340485], [166.0739439210845, -21.54078931400334], [166.07354067936603, -21.54408373130645], [166.07187169464237, -21.539721601264713], [166.07305361078957, -21.53994318143787]]], [[[166.06194231663778, -21.54193609733808], [166.06188315149222, -21.541603558516837], [166.061987075, -21.541392655999974], [166.0621095886, -21.54165653149998], [166.06194231663778, -21.54193609733808]]], [[[166.06670789512665, -21.53953274871697], [166.06751767508834, -21.540310405418207], [166.06737717041443, -21.541688162007503], [166.066661174755, -21.540887144818043], [166.06670789512665, -21.53953274871697]]], [[[166.09913855887882, -21.539200668445947], [166.09917154146095, -21.537822639622586], [166.10094480550168, -21.539603541836875], [166.1045370166389, -21.539637911202156], [166.10498099514174, -21.541643873459993], [166.09913855887882, -21.539200668445947]]], [[[166.1163417843448, -21.538731832942254], [166.11658490351525, -21.53922885673551], [166.11612505723846, -21.539502406773046], [166.1159114857604, -21.538723331334502], [166.1163417843448, -21.538731832942254]]], [[[166.06387857425958, -21.53646649554578], [166.06518555107724, -21.536167674292482], [166.06343194013826, -21.537836333995642], [166.06332988401596, -21.537638289110124], [166.06387857425958, -21.53646649554578]]], [[[166.0676303624681, -21.536319966384433], [166.06978042150504, -21.53507416099967], [166.07049466414816, -21.535912845976036], [166.06972425857373, -21.537836149160146], [166.06776964089832, -21.537855243211478], [166.0661761301423, -21.535601760920645], [166.0676303624681, -21.536319966384433]]], [[[166.0941454240613, -21.525080780632738], [166.096900466469, -21.525800845075533], [166.0970777411884, -21.52629889032829], [166.09539958966644, -21.526496780402766], [166.0941454240613, -21.525080780632738]]], [[[166.10841586746102, -21.518706605355106], [166.11055613046395, -21.520564672116457], [166.1101889486123, -21.52234686658419], [166.10797421647734, -21.519641914267613], [166.10841586746102, -21.518706605355106]]], [[[166.10308319395682, -21.516456435769467], [166.1058580167035, -21.516813897798546], [166.10820001249743, -21.516465694120928], [166.1046589732823, -21.52040532149098], [166.10419221708145, -21.517520653596556], [166.10213058231457, -21.51920826212131], [166.1010750725811, -21.51618292178194], [166.10308319395682, -21.516456435769467]]], [[[166.08877854479726, -21.513730543825265], [166.09148574800773, -21.515369816556568], [166.08948476583393, -21.51620258865249], [166.08995822802697, -21.517236640306606], [166.08913810304315, -21.51654835286136], [166.08877854479726, -21.513730543825265]]], [[[166.09605857892114, -21.514547243787106], [166.0983674150692, -21.515504783827204], [166.09834067967483, -21.5163842530235], [166.09656739370985, -21.51625457327322], [166.09504842119938, -21.51356393469954], [166.09605857892114, -21.514547243787106]]], [[[166.13658507565734, -21.583372811906518], [166.136830165148, -21.583514161865843], [166.13631147704797, -21.58423099147843], [166.13588567951092, -21.583658333492654], [166.13658507565734, -21.583372811906518]]], [[[166.14725173469967, -21.579058295253816], [166.14757370855395, -21.579466458054107], [166.15019001924102, -21.57743177564694], [166.14856926693832, -21.579678838503586], [166.14682141288185, -21.579892750577564], [166.14725173469967, -21.579058295253816]]], [[[166.1444520966658, -21.57885521343305], [166.1459582713496, -21.575431753519894], [166.14803389602807, -21.57422008699758], [166.14966685600828, -21.575234096782985], [166.14954103770216, -21.576779864701233], [166.14406228140155, -21.579997742543345], [166.1444520966658, -21.57885521343305]]], [[[166.13750284941696, -21.573032751786457], [166.13815100591245, -21.573992791917014], [166.13789669925129, -21.57478427584651], [166.13656788548232, -21.57439795213258], [166.13750284941696, -21.573032751786457]]], [[[166.14126589250642, -21.569949822383055], [166.14527745133609, -21.568200080363713], [166.1422353751704, -21.57182857389057], [166.14578369615583, -21.570259325169598], [166.1472656700452, -21.571853019921047], [166.14568830846144, -21.573246908382092], [166.14704207035655, -21.573882382840395], [166.1404326221462, -21.57563429547185], [166.14409146621736, -21.57341753729639], [166.13995259043958, -21.57251296532682], [166.14126589250642, -21.569949822383055]]], [[[166.13349503190716, -21.57130931945179], [166.13434326022113, -21.569327145440983], [166.1356531666383, -21.5691950611133], [166.13463556408246, -21.573002580241486], [166.13349503190716, -21.57130931945179]]], [[[166.13310464769384, -21.566336644182876], [166.13427213991076, -21.56707893895739], [166.13325437556563, -21.567908102197], [166.13262317739787, -21.567446343197723], [166.13310464769384, -21.566336644182876]]], [[[166.13362880785076, -21.56368889816237], [166.13358169636575, -21.562849711311323], [166.13490147015335, -21.562538585438663], [166.13413772091556, -21.565103137502838], [166.13362880785076, -21.56368889816237]]], [[[166.14222663547324, -21.566325532270877], [166.1438261625809, -21.56449459806956], [166.14307059614143, -21.56334519980139], [166.14275414513156, -21.56518755138645], [166.1398903791116, -21.563349419502995], [166.14261882128417, -21.56256975550371], [166.14188000385255, -21.557719891107766], [166.14559221389166, -21.56078021926516], [166.14853722589615, -21.560067895244224], [166.14837690555015, -21.56161419353363], [166.14731107071836, -21.56100245653929], [166.14796412465205, -21.56295171662505], [166.1444276999044, -21.562946660560186], [166.1478487859458, -21.563472079362427], [166.14421818204676, -21.56568265395941], [166.14438135911055, -21.567556241209683], [166.14178433871004, -21.567682425012894], [166.14211654010492, -21.566655818375857], [166.13993822460307, -21.568067398276916], [166.14222663547324, -21.566325532270877]], [[166.14387902533653, -21.561680310151818], [166.14491632382138, -21.561501140413522], [166.14505777361478, -21.560991921157317], [166.14400161515746, -21.56042612198375], [166.14387902533653, -21.561680310151818]]], [[[166.13642008104753, -21.563707925914912], [166.13796652826304, -21.560086745976335], [166.13983056733136, -21.559764376298013], [166.135825979551, -21.565404945535537], [166.13642008104753, -21.563707925914912]]], [[[166.13218251835715, -21.56058421804394], [166.13312984700983, -21.56122140376164], [166.13298733442804, -21.562000701393597], [166.1315077901754, -21.56095571249273], [166.13218251835715, -21.56058421804394]]], [[[166.13551476596464, -21.55875710043649], [166.1360052500988, -21.5555886064493], [166.13659605696859, -21.555201047044058], [166.1365234687861, -21.557413235995458], [166.13774950109823, -21.556324288042244], [166.13837166302238, -21.557634678101586], [166.13509045952017, -21.560180673166673], [166.13551476596464, -21.55875710043649]]], [[[166.12706141292273, -21.5549007408143], [166.12671525909582, -21.555823619135317], [166.12584594578925, -21.555230386523647], [166.12598716371403, -21.55495742569734], [166.12706141292273, -21.5549007408143]]], [[[166.13253672369936, -21.55364328588646], [166.13425085547, -21.55399504005697], [166.13412668100793, -21.556197493696416], [166.13551340898914, -21.55525686478034], [166.1346752630364, -21.55709719451603], [166.13253672369936, -21.55364328588646]]], [[[166.12016678261602, -21.55268039254324], [166.12028750170114, -21.553650278759257], [166.1197603473731, -21.554570939127405], [166.11924582006057, -21.552689358128646], [166.12016678261602, -21.55268039254324]]], [[[166.12691556587012, -21.546084841659223], [166.1274648868744, -21.546961119095638], [166.12856966436263, -21.54717345068965], [166.12881905447665, -21.547705572616525], [166.12691998848095, -21.54727502929288], [166.12590346785478, -21.545337814855234], [166.12691556587012, -21.546084841659223]]], [[[166.12889629973597, -21.544915591835828], [166.1295714311479, -21.544940109285633], [166.12946647020547, -21.545711811240178], [166.12831864880621, -21.54449725700937], [166.12889629973597, -21.544915591835828]]], [[[166.15243283106764, -21.545511263109866], [166.1509271691636, -21.54564491713696], [166.14870432255918, -21.54394081980239], [166.15242033152342, -21.544821164882375], [166.15243283106764, -21.545511263109866]]], [[[166.11869565715187, -21.54335633434204], [166.11839931560064, -21.543763143448903], [166.11787034129645, -21.542800932834442], [166.11825315890331, -21.542788351596748], [166.11869565715187, -21.54335633434204]]], [[[166.13941098465892, -21.54401368431284], [166.13860031266586, -21.54197784767885], [166.14025907068685, -21.541789460355385], [166.140276100159, -21.544289012068596], [166.13941098465892, -21.54401368431284]]], [[[166.12719618486514, -21.539591716981146], [166.12797224291612, -21.538127373749184], [166.12914393166827, -21.536798836132267], [166.1286954325076, -21.534693691793652], [166.1298485309252, -21.537440597881876], [166.12804250924782, -21.538332996128894], [166.12730777218405, -21.540326684116646], [166.12911490720458, -21.542404696389966], [166.1275964340854, -21.54324646983933], [166.12719618486514, -21.539591716981146]]], [[[166.13911744803866, -21.53645446202741], [166.14156848622656, -21.53760571620139], [166.1410069660136, -21.53875205332168], [166.1426340671691, -21.539651793902028], [166.13956966874443, -21.53831267425833], [166.13782519214584, -21.535766858919104], [166.13911744803866, -21.53645446202741]]], [[[166.11982452154845, -21.537197735188602], [166.12014059009866, -21.537522295495172], [166.11986635553984, -21.538142075753964], [166.11917074949875, -21.53711430679684], [166.11982452154845, -21.537197735188602]]], [[[166.1616100385401, -21.58716577068848], [166.1617798024029, -21.586628185122876], [166.16159117588865, -21.58564496941736], [166.1628455422084, -21.587231789968467], [166.1616100385401, -21.58716577068848]]], [[[166.19731881159632, -21.587203891150207], [166.20232301566634, -21.58673176544876], [166.20440986696576, -21.585856483064237], [166.20325846201635, -21.586686491870232], [166.1962440416571, -21.587704708102248], [166.19731881159632, -21.587203891150207]]], [[[166.16661210422853, -21.58564268210521], [166.16994225206366, -21.5851841645162], [166.16631147644102, -21.587785958320765], [166.1653486288111, -21.585931027117493], [166.16374382247062, -21.587788666280495], [166.1651175355944, -21.584863087875444], [166.16661210422853, -21.58564268210521]]], [[[166.15841753478642, -21.586826242962832], [166.15745553956378, -21.584591018769007], [166.15754042149518, -21.584421254906182], [166.16054795825997, -21.58779203677811], [166.15841753478642, -21.586826242962832]]], [[[166.1885150008897, -21.586189540033445], [166.1881241013362, -21.583981211387027], [166.1900062132478, -21.584296776742807], [166.18890656486192, -21.582088605518557], [166.19096070605917, -21.58122867159939], [166.19197164960477, -21.58198315509315], [166.1908289651222, -21.583111764714683], [166.1929239333919, -21.58350907714533], [166.1915792369391, -21.584207858207357], [166.19210734806163, -21.58600699096487], [166.1942699302072, -21.58632063789088], [166.19512418558793, -21.587755571182566], [166.18463563321347, -21.58641496018371], [166.18248559143944, -21.58513025597721], [166.18313966431813, -21.582491978916412], [166.18575925812755, -21.581310623228493], [166.1865516264556, -21.583755275377055], [166.18429559523264, -21.584113652636628], [166.1885150008897, -21.586189540033445]]], [[[166.15458015857757, -21.58208719006331], [166.1558716641608, -21.584705263826297], [166.1556738683962, -21.587608174041694], [166.15342139800376, -21.58147219876484], [166.15458015857757, -21.58208719006331]]], [[[166.174007516189, -21.583409745223534], [166.17377173304618, -21.583013629543615], [166.1732624414577, -21.583230550034997], [166.17202693778938, -21.58247604397801], [166.17175342934374, -21.58191959576098], [166.17496008008592, -21.582834434355078], [166.17534676444015, -21.585390323623127], [166.174007516189, -21.583409745223534]]], [[[166.1480451601998, -21.58496999389941], [166.14773294406234, -21.5843803389599], [166.15153513730087, -21.578118758801466], [166.1540071450871, -21.587798935004614], [166.1480451601998, -21.58496999389941]]], [[[166.1606610834025, -21.582689428498007], [166.16136491947344, -21.582169188517096], [166.16212686791735, -21.58201907967886], [166.1607507158021, -21.583555068786588], [166.1606610834025, -21.582689428498007]]], [[[166.17908059908208, -21.580812974409298], [166.17991697988512, -21.581707750822765], [166.17859768357818, -21.582282583395642], [166.1778060332002, -21.58116108406856], [166.17908059908208, -21.580812974409298]]], [[[166.15929731553038, -21.583128837861754], [166.1577690869653, -21.582777581210426], [166.1551028549502, -21.578595497576295], [166.15707260879086, -21.579736775788856], [166.15929731553038, -21.583128837861754]]], [[[166.18747615039476, -21.579752382031412], [166.18867111031895, -21.57930398403815], [166.18961623424448, -21.580001742489586], [166.18852304647731, -21.58108547589853], [166.18645898103196, -21.579436266449026], [166.18747615039476, -21.579752382031412]]], [[[166.1676933980244, -21.578275467041337], [166.16476931746806, -21.576689569473796], [166.16436825576912, -21.57583239839182], [166.16609832584285, -21.57565677006616], [166.1676933980244, -21.578275467041337]]], [[[166.1866534033669, -21.572468366906637], [166.18812443355858, -21.57224201204206], [166.18858645229233, -21.573750632055972], [166.18481501799292, -21.57322260552565], [166.1866534033669, -21.572468366906637]]], [[[166.16605240427322, -21.573202329241408], [166.16762672531672, -21.574328717656194], [166.16149470490842, -21.573058440046452], [166.16122683224117, -21.572249825012335], [166.16605240427322, -21.573202329241408]]], [[[166.15191699387498, -21.573243846576986], [166.1505518844762, -21.57305476331741], [166.1499038214256, -21.571933187430236], [166.15246532823062, -21.572008778992952], [166.15191699387498, -21.573243846576986]]], [[[166.15716908106216, -21.572457499619837], [166.15445602312562, -21.572031240856656], [166.15378852808712, -21.570975014696238], [166.16119475688848, -21.573096112500114], [166.1588790663176, -21.573958054090173], [166.15716908106216, -21.572457499619837]]], [[[166.18163016599803, -21.571229096911594], [166.18220706360827, -21.572222302282125], [166.18184737068847, -21.57314412736949], [166.18001641380513, -21.568555034030126], [166.18163016599803, -21.571229096911594]]], [[[166.1541243679881, -21.56161204730496], [166.1541721887485, -21.562761563953703], [166.15516107627454, -21.563713585246894], [166.1534656434348, -21.562933387384316], [166.1541243679881, -21.56161204730496]]], [[[166.14985822276674, -21.562239302702192], [166.15211119298692, -21.56150742615238], [166.15340704579512, -21.56342480550916], [166.14968177604143, -21.562520378907436], [166.1493112399849, -21.562171838336788], [166.14985822276674, -21.562239302702192]]], [[[166.15798435210104, -21.54945208278677], [166.1610701075676, -21.551522018305047], [166.1747298822023, -21.567013689242344], [166.17330383437212, -21.567782500984926], [166.16812366743187, -21.564480907422194], [166.1677111306196, -21.561835722366677], [166.16525444528355, -21.56052530986137], [166.16600805229308, -21.559682488009017], [166.1619471301528, -21.556107079308077], [166.16076863756217, -21.552740717119736], [166.15792207196893, -21.55279913810164], [166.1592056332566, -21.55151482880907], [166.15798435210104, -21.54945208278677]], [[166.16999065719648, -21.564584745909464], [166.1703207067144, -21.564528165992115], [166.1690476585739, -21.563556877410818], [166.16892635684988, -21.56433796818991], [166.16999065719648, -21.564584745909464]]], [[[166.15785318729894, -21.555381997999095], [166.15952527270488, -21.554193798215042], [166.1578383260509, -21.557624512358213], [166.15675457394582, -21.555918639519856], [166.15785318729894, -21.555381997999095]]], [[[166.15480210923397, -21.547558866751636], [166.15311458844815, -21.54695966283298], [166.1530369215175, -21.545823333236484], [166.15519297929742, -21.54752963785678], [166.15480210923397, -21.547558866751636]]]]}", "forest_cover_percentage": null, "forest_fragmentation_effective_mesh_size": 5.653349939499857, "forest_fragmentation_fragment_size_distribution": {"10": 13.902808431977576, "100": 35.02718023925752, "1000": 100.0, "1100": 100.0, "1200": 100.0, "12000": 100.0, "125": 35.02718023925752, "1300": 100.0, "1400": 100.0, "150": 35.02718023925752, "1500": 100.0, "1600": 100.0, "1700": 100.0, "17000": 100.0, "175": 35.02718023925752, "1800": 100.0, "1900": 100.0, "20": 16.696035571283904, "200": 35.02718023925752, "2000": 100.0, "225": 35.02718023925752, "250": 35.02718023925752, "27000": 100.0, "275": 35.02718023925752, "30": 18.625906578686774, "300": 35.02718023925752, "325": 35.02718023925752, "350": 35.02718023925752, "375": 35.02718023925752, "40": 24.281040804324604, "400": 35.02718023925752, "425": 35.02718023925752, "450": 35.02718023925752, "475": 35.02718023925752, "50": 31.09064694109285, "500": 35.02718023925752, "500000": 100.0, "60": 35.02718023925752, "600": 35.02718023925752, "70": 35.02718023925752, "700": 35.02718023925752, "7000": 100.0, "80": 35.02718023925752, "800": 35.02718023925752, "90": 35.02718023925752, "900": 100.0}, "forest_humidity_category_distribution": null, "frequencies": {}, "id": 128, "land_use_category_distribution": null, "name": "Nakety_Dothio", "num_families_unique_taxonomic_count": 73, "num_occurrences_count": 1242, "num_species_unique_taxonomic_count": 281, "rainfall_mean": "1666.875", "rainfall_range": "{\"min\": 1435.0, \"max\": 2120.0}", "shape_area": "8377.96668534333", "shape_coordinates": "{\"type\": \"FeatureCollection\", \"features\": [{\"id\": \"0\", \"type\": \"Feature\", \"properties\": {}, \"geometry\": {\"type\": \"Polygon\", \"coordinates\": [[[166.21230212391117, -21.587737454580505], [166.14025414627037, -21.58781343951627], [166.13552795841704, -21.582800388393178], [166.12553820200318, -21.582807575229165], [166.11985960718684, -21.581085690614454], [166.1163210307475, -21.576408697083583], [166.09014777727353, -21.57618250430116], [166.08528876779772, -21.57293910827885], [166.08338888373834, -21.566734876900743], [166.0746053620217, -21.56636507347023], [166.0697468755095, -21.56312352293214], [166.06785333079222, -21.55782967626576], [166.06777155179154, -21.54906016839249], [166.06214699969695, -21.543086522348844], [166.06141420578317, -21.535985557454758], [166.0778615985423, -21.521458286494575], [166.08171002142583, -21.522404576862566], [166.08360299698157, -21.520603190923936], [166.08239652235827, -21.511456934510118], [166.0860164170207, -21.506915843567835], [166.0926858343068, -21.505015363443796], [166.0976200521814, -21.5064799758881], [166.1237819564366, -21.50605185663524], [166.1286107438171, -21.509329576144356], [166.13018840606415, -21.513048551316594], [166.13704630490722, -21.513432749990113], [166.14190436801837, -21.516673242455486], [166.1437990919915, -21.521966906606192], [166.1438623713869, -21.528543778530008], [166.1504832661758, -21.53026298513186], [166.1539949089703, -21.534775993814197], [166.15447992702133, -21.546630417530835], [166.16347754780617, -21.546622266636692], [166.1690927970679, -21.548300490692938], [166.17879674208626, -21.55759203449865], [166.1843239424361, -21.559148983278487], [166.18883239106833, -21.563294350210285], [166.19524597785528, -21.564879876038653], [166.20037970279193, -21.57077812314817], [166.20771917790702, -21.57351399866717], [166.2121849540281, -21.578592013771747], [166.21230212391117, -21.587737454580505]]]}, \"bbox\": [166.06141420578317, -21.58781343951627, 166.21230212391117, -21.505015363443796]}], \"bbox\": [166.06141420578317, -21.58781343951627, 166.21230212391117, -21.505015363443796]}", "shape_id": 128, "type": "mines"};
    var mapping = {"fields": {"elevation": {"data_source": {"name": "elevation", "type": "layer"}, "description": "Altitude metrics within the shape", "field_type": "JSON", "label": "Altitude", "transformations": [{"chart_options": {"title": "Median Altitude"}, "chart_type": "text", "name": "median"}, {"chart_options": {"title": "Maximum Altitude"}, "chart_type": "text", "name": "max"}, {"chart_options": {"title": "Elevation Distribution", "x_label": "Elevation (m)", "y_label": "Area (ha)"}, "chart_type": "stacked_bar", "data_structure": {"x_field": "altitudes", "y_fields": [{"color": "#4BC0C0", "label": "For\u00eat", "name": "forest"}, {"color": "#FF6384", "label": "Hors-for\u00eat", "name": "non_forest"}]}, "name": "elevation_distribution"}]}, "forest": {"data_source": {"name": "forest_cover", "type": "layer"}, "description": "Area covered by forest within the shape", "field_type": "TEXT", "label": "Forest Area", "transformations": [{"chart_options": {"title": "Forest Area"}, "chart_type": "text", "name": "area"}, {"chart_options": {"coordinates_field": "forest_coordinates", "title": "Forest Location"}, "chart_type": "map", "name": "coordinates"}]}, "forest_cover": {"data_source": {"name": "forest_cover", "type": "layer"}, "description": "Area covered by forest within the shape", "field_type": "JSON", "label": "Forest Area", "transformations": [{"chart_options": {"categories": ["UM", "Non-UM", "Commune"], "title": "Forest Cover"}, "chart_type": "donut", "layer_params": {"forest_cover": [{"name": "area"}, {"attribute": "cover_type"}], "soil_types": [{"attribute": "soil_category"}]}, "name": "percentage"}]}, "forest_fragmentation": {"data_source": {"name": "forest_cover", "type": "layer"}, "description": "Analysis of forest fragmentation", "field_type": "JSON", "label": "Forest Fragmentation", "transformations": [{"chart_options": {"bins": [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 125, 150, 175, 200, 225, 250, 275, 300, 325, 350, 375, 400, 425, 450, 475, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 7000, 12000, 17000, 27000, 500000], "title": "Forest Fragment Distribution", "x_label": "Area (ha)", "y_label": "Cumulative Area (%)"}, "chart_type": "line", "data_structure": {"color": "#4BC0C0", "x_field": "keys", "y_field": "values"}, "name": "fragment_size_distribution"}, {"chart_options": {"label": "Effective Mesh Size (km\u00b2)", "max": 1000, "min": 0, "title": "Fragmentation"}, "chart_type": "gauge", "name": "effective_mesh_size"}]}, "forest_humidity": {"data_source": [{"name": "forest_cover", "type": "layer"}, {"name": "holdridge", "type": "shape"}], "description": "Distribution of forests by humidity level", "field_type": "JSON", "label": "Forest and Living Environments", "transformations": [{"chart_options": {"categories": ["Dry", "Humid", "Very Humid"], "title": "Forest and Living Environments", "x_label": "Category", "y_label": "Frequency (%)"}, "chart_type": "stacked_bar", "layer_params": {"forest_cover": [{"name": "area"}], "humidity": [{"name": "value"}]}, "name": "category_distribution"}]}, "land_use": {"data_source": [{"name": "ultramafic", "type": "shape"}, {"name": "holdridge", "type": "shape"}, {"name": "forest_cover", "type": "layer"}], "description": "Land use distribution", "field_type": "JSON", "label": "Land Use", "transformations": [{"chart_options": {"title": "Land Use", "x_label": "Category", "y_label": "Area (ha)"}, "chart_type": "bar", "name": "category_distribution"}]}, "num_families": {"data_source": {"name": "occurrences", "type": "source"}, "description": "Total number of families in the zone", "field_type": "INTEGER", "label": "Number of Families", "transformations": [{"chart_options": {"title": "Number of Families"}, "chart_type": "text", "name": "unique_taxonomic_count", "target_ranks": ["family"]}]}, "num_occurrences": {"data_source": {"name": "occurrences", "type": "source"}, "description": "Total number of occurrences in the zone", "field_type": "INTEGER", "label": "Number of Occurrences", "source_field": "id_occurrence", "transformations": [{"chart_options": {"title": "Number of Occurrences"}, "chart_type": "text", "name": "count"}]}, "num_species": {"data_source": {"name": "occurrences", "type": "source"}, "description": "Total number of species in the zone", "field_type": "INTEGER", "label": "Number of Species", "transformations": [{"chart_options": {"title": "Number of Species"}, "chart_type": "text", "name": "unique_taxonomic_count", "target_ranks": ["species", "infra"]}]}, "rainfall": {"data_source": {"name": "rainfall", "type": "layer"}, "description": "Average annual rainfall within the shape", "field_type": "TEXT", "label": "Average Rainfall", "transformations": [{"chart_options": {"title": "Average Rainfall"}, "chart_type": "text", "name": "mean"}, {"chart_options": {"title": "Rainfall Range"}, "chart_type": "text", "name": "range"}]}, "shape": {"data_source": {"name": "self", "type": "shape"}, "description": "Total area of the reference zone", "field_type": "TEXT", "label": "Shape Area", "transformations": [{"chart_options": {"title": "Total Area"}, "chart_type": "text", "name": "area"}, {"chart_options": {"coordinates_field": "shape_coordinates", "title": "Location"}, "chart_type": "map", "name": "coordinates"}]}}, "group_by": "shape", "source_location_field": "geo_pt", "source_table_name": "occurrences"};
    var currentShapeType = "mines";

    document.addEventListener('DOMContentLoaded', function () {
        loadShapeCharts(shape, mapping);
        loadShapeTypeList();
        initShapeMaps(mapping, shape);
        loadAllShapesMap(shape);
    });

    function loadShapeCharts(shape, mapping) {
        Object.entries(mapping.fields).forEach(function([field_key, field]) {
            if (field.field_type !== 'TEXT' && shape[field_key] !== null) {
                // Handle bins chart if present
                if (field.bins && field.bins.values && field.bins.values.length > 0) {
                    var binChartId = field_key + 'BinChart';
                    var binCtx = document.getElementById(binChartId);
                    if (binCtx) {
                        createBinChart(binCtx, field, shape);
                    }
                }

                // Handle transformations
                field.transformations.forEach(function(transformation) {
                    var transformationName = transformation.name ? transformation.name : '';
                    var valueKey = field_key + '_' + transformationName;

                    if (shape[valueKey] !== null) {
                        switch(transformation.chart_type) {
                            case 'pie':
                                var pieChartId = field_key + 'PieChart';
                                var pieCtx = document.getElementById(pieChartId);
                                if (pieCtx) {
                                    createPieChart(pieCtx, transformation, shape[valueKey]);
                                }
                                break;
                            case 'gauge':
                                var gaugeId = field_key + transformationName + 'Gauge';
                                var gaugeElement = document.getElementById(gaugeId);
                                if (gaugeElement) {
                                    createGauge({
                                        id: gaugeId,
                                        value: parseFloat(shape[valueKey]),
                                        min: 0,
                                        max: transformation.chart_options.max,
                                        title: transformation.chart_options.title,
                                        label: transformation.chart_options.label
                                    });
                                }
                                break;
                            case 'bar':
                                var barChartId = field_key + transformationName + 'BarChart';
                                var barCtx = document.getElementById(barChartId);
                                if (barCtx) {
                                    createBarChart(barCtx, field, transformation, shape[valueKey]);
                                }
                                break;
                            case 'stacked_bar':
                                if (field_key === 'elevation' && transformationName === 'elevation_distribution') {
                                    var stackedBarChartId = 'elevationDistributionChart';
                                    var stackedBarCtx = document.getElementById(stackedBarChartId);
                                    if (stackedBarCtx) {
                                        createElevationDistributionChart(stackedBarCtx, shape.elevation_elevation_distribution, transformation);
                                    }
                                }
                                break;
                            case 'line':
                                if (field_key === 'forest_fragmentation' && transformationName === 'fragment_size_distribution') {
                                    var lineChartId = 'forestFragmentationChart';
                                    var lineCtx = document.getElementById(lineChartId);
                                    if (lineCtx) {
                                        createForestFragmentationChart(lineCtx, shape.forest_fragmentation_fragment_size_distribution, transformation);
                                    }
                                }
                                break;
                        }
                    }
                });
            }
        });
    }

    function createBinChart(ctx, field, shape) {
        var binData = {
            labels: field.bins.values,
            datasets: [{
                label: field.label,
                data: field.bins.values.map(value => shape.frequencies[field.field_key][value] || 0),
                backgroundColor: field.bins.chart_options.color
            }]
        };

        new Chart(ctx, {
            type: field.bins.chart_type,
            data: binData,
            options: field.bins.chart_options
        });
    }

    function createPieChart(ctx, transformation, data) {
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['True', 'False'],
                datasets: [{
                    data: [data.true || 0, data.false || 0],
                    backgroundColor: ['#FF6384', '#36A2EB']
                }]
            },
            options: {
                title: {
                    display: true,
                    text: transformation.chart_options.title
                }
            }
        });
    }

    function createBarChart(ctx, field, transformation, data) {
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: Object.keys(data),
                datasets: [{
                    label: field.label,
                    data: Object.values(data),
                    backgroundColor: getColor(0).background,
                    borderColor: getColor(0).border,
                    borderWidth: 1
                }]
            },
            options: transformation.chart_options
        });
    }

    function createElevationDistributionChart(ctx, elevationData, chartConfig) {
        const altitudes = elevationData.altitudes.reverse();
        const forestData = elevationData.forest.reverse();
        const nonForestData = elevationData.non_forest.reverse();

        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: altitudes,
                datasets: [
                    {
                        label: 'Forest',
                        data: forestData,
                        backgroundColor: '#4CAF50',
                        stack: 'Stack 0',
                    },
                    {
                        label: 'Non-Forest',
                        data: nonForestData,
                        backgroundColor: '#FFF59D',
                        stack: 'Stack 0',
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                scales: {
                    x: {
                        stacked: true,
                        title: {
                            display: true,
                            text: 'Area (ha)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toLocaleString(); // Format les grands nombres
                            }
                        }
                    },
                    y: {
                        stacked: true,
                        title: {
                            display: true,
                            text: 'Elevation (m)'
                        },
                        reverse: false
                    }
                },
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                layout: {
                    padding: {
                        left: 10,
                        right: 10,
                        top: 0,
                        bottom: 10
                    }
                }
            }
        });
    }

    function createForestFragmentationChart(ctx, fragmentationData, chartConfig) {
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: Object.keys(fragmentationData),
                datasets: [{
                    label: 'Cumulative Area (%)',
                    data: Object.values(fragmentationData),
                    borderColor: '#4BC0C0',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: chartConfig.chart_options.x_label
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: chartConfig.chart_options.y_label
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: chartConfig.chart_options.title
                    }
                }
            }
        });
    }

    function createGauge(options) {
        new JustGage({
            id: options.id,
            value: options.value || 0,
            min: options.min || 0,
            max: options.max,
            title: options.title,
            label: options.label,
            pointer: true,
            pointerOptions: {
                toplength: 10,
                bottomlength: 10,
                bottomwidth: 2,
                color: '#8e8e93',
                stroke: '#ffffff',
                stroke_width: 3,
                stroke_linecap: 'round'
            },
            gaugeWidthScale: 0.6,
            counter: true,
            donut: true,
            relativeGaugeSize: true,
            donutStartAngle: 270,
            hideInnerShadow: true,
            customSectors: [{
                color: "#ff0000",
                lo: 0,
                hi: options.max * 0.33
            }, {
                color: "#ffff00",
                lo: options.max * 0.33,
                hi: options.max * 0.66
            }, {
                color: "#00ff00",
                lo: options.max * 0.66,
                hi: options.max
            }],
            humanFriendly: true,
            formatNumber: true,
            textRenderer: function (val) {
                return parseFloat(val).toFixed(2);
            }
        });
    }

    // Function to get a color based on the index
    function getColor(index) {
        var colors = [
            {background: 'rgba(54, 162, 235, 0.6)', border: 'rgba(54, 162, 235, 1)'},
            {background: 'rgba(75, 192, 192, 0.6)', border: 'rgba(75, 192, 192, 1)'},
            {background: 'rgba(255, 99, 132, 0.6)', border: 'rgba(255, 99, 132, 1)'}
        ];
        return colors[index % colors.length];
    }

// Rest of the code (loadShapeTypeList, initShapeMaps, loadAllShapesMap) remains the same...

    let maps = {};  // Object to keep track of initialized maps

    function initMap(field_key, geometry) {
        const mapId = field_key + 'Map';
        const mapLoaderId = field_key + 'MapLoader';

        // Check if the map already exists
        if (maps[mapId]) {
            return; // Map is already initialized, so do nothing
        }

        const satellite = L.tileLayer.wms("https://carto10.gouv.nc/arcgis/services/fond_imagerie/MapServer/WMSServer", {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const carte = L.tileLayer.wms('https://carto.gouv.nc/arcgis/services/fond_cartographie/MapServer/WMSServer', {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const map = L.map(mapId, {
            layers: [carte, satellite],
            scrollWheelZoom: false
        });
        map.attributionControl.setPrefix(false); // Remove the "Powered by Leaflet" prefix
        map.attributionControl.addAttribution("<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>");

        const baseMaps = {
            "Carte": carte,
            "Satellite": satellite,
        };

        L.control.layers(baseMaps).addTo(map);

        map.on('load', function () {
            document.getElementById(mapLoaderId).style.display = 'none';
        });

        if (geometry) {
            const geoJsonLayer = L.geoJSON(geometry, {
                style: function() {
                    return {
                        color: '#228b22', // Border color
                        weight: 2,       // Border width
                        fillColor: '#228b22cc', // Fill color with opacity
                        fillOpacity: 0.8 // Fill opacity
                    };
                }
            }).addTo(map);
            map.fitBounds(geoJsonLayer.getBounds());
        } else {
            console.warn("No geographic coordinates found.");
            // Set default view if no geometry is found
            map.setView([-21.291237, 165.516418], 10);
        }

        // Store the map instance in the maps object
        maps[mapId] = map;
    }

    function initShapeMaps(mapping, shape) {
        Object.entries(mapping.fields).forEach(function([field_key, field]) {
            field.transformations.forEach(function(transformation) {
                if (transformation.chart_type === 'map') {
                    var coordinatesField = transformation.chart_options.coordinates_field;
                    var geometry = shape[coordinatesField];

                    // Check if geometry is a string, if so, parse it as JSON
                    if (typeof geometry === 'string') {
                        try {
                            geometry = JSON.parse(geometry);
                        } catch (e) {
                            console.error("Invalid JSON for field", coordinatesField, ":", geometry);
                            return; // Skip this field if JSON is invalid
                        }
                    }

                    // Initialize the map with the parsed geometry
                    initMap(field_key, geometry);
                }
            });
        });
    }

    function loadAllShapesMap(currentShape) {
        const mapId = 'allShapesMap';
        const satellite = L.tileLayer.wms("https://carto10.gouv.nc/arcgis/services/fond_imagerie/MapServer/WMSServer", {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const carte = L.tileLayer.wms('https://carto.gouv.nc/arcgis/services/fond_cartographie/MapServer/WMSServer', {
            layers: '0',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>"
        });
        const map = L.map(mapId, {
            layers: [carte, satellite],
            scrollWheelZoom: false
        });
        map.attributionControl.setPrefix(false); // Remove the "Powered by Leaflet" prefix
        map.attributionControl.addAttribution("<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>");

        const baseMaps = {
            "Carte": carte,
            "Satellite": satellite,
        };

        L.control.layers(baseMaps).addTo(map);

        var group = L.featureGroup(); // Create a group to hold all the layers

        shapeTypes.forEach(function(shapeTypeItem) {
            if (shapeTypeItem.type === currentShape.type) {
                shapeTypeItem.shapes.forEach(function(shapeItem) {
                    var geometry = shapeItem.geometry;
                    // No need to parse geometry if it's already GeoJSON
                    var layer = L.geoJSON(geometry, {
                        style: function() {
                            return {
                                color: '#228b22', // Border color
                                weight: 2,       // Border width
                                fillColor: '#228b22cc', // Fill color with opacity
                                fillOpacity: 0.8 // Fill opacity
                            };
                        }
                    }).addTo(map);
                    group.addLayer(layer); // Add each layer to the group

                    // Highlight current shape
                    if (shapeItem.id === currentShape.id) {
                        layer.setStyle({color: 'red', weight: 3, fillOpacity: 0.4});
                        layer.bringToFront(); // Ensure the highlighted shape is on top
                    } else {
                        layer.setStyle({fillOpacity: 0.2}); // Reduce opacity for other shapes
                    }

                    // Show tooltip on hover with additional content
                    var tooltipContent = "<strong>" + shapeItem.name + "</strong><br>";

                    


                    layer.bindTooltip(tooltipContent, {
                        permanent: false,
                        direction: 'right',
                        offset: L.point(10, 0),
                        opacity: 0.9,
                        className: 'custom-tooltip'
                    });


                    layer.on('mousemove', function(e) {
                        var tooltip = e.target.getTooltip();
                        tooltip.setLatLng(e.latlng);
                    });

                    layer.on('click', function() {
                        window.location.href = '../shape/' + shapeItem.id + '.html';
                    });
                });
            }
        });

        map.fitBounds(group.getBounds()); // Adjust the view to fit the bounds of the group

        map.attributionControl.setPrefix(false);
        map.attributionControl.addAttribution("<a href='http://www.geoportal.gouv.nc/'>Géorep</a> <i> - Gouvernement de la Nouvelle-Calédonie</i>");

        maps['allShapesMap'] = map;
    }

    function loadShapeTypeList() {
            var shapeTypeListElement = document.getElementById("shape-type-list");
            shapeTypes.forEach(function (shapeTypeItem) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                a.href = "javascript:void(0)";
                a.textContent = shapeTypeItem.type;
                a.className = "shape-type-link";
                if (shapeTypeItem.type === currentShapeType) {
                    a.classList.add("active");
                }
                a.onclick = function () {
                    if (shapeTypeItem.shapes.length > 0) {
                        // Redirect to the first shape of the selected type
                        window.location.href = "../shape/" + shapeTypeItem.shapes[0].id + ".html";
                    }
                    loadShapeList(shapeTypeItem.shapes);
                };
                li.appendChild(a);
                shapeTypeListElement.appendChild(li);
            });
        }

        function loadShapeList(shapes) {
            var shapeListElement = document.getElementById("shape-list");
            shapeListElement.innerHTML = ''; // Clear the previous list
            shapes.forEach(function (shapeItem) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                a.href = "../shape/" + shapeItem.id + ".html";
                a.textContent = shapeItem.name;
                a.className = "shape-link";
                if (shapeItem.id === shape.id) {
                    a.classList.add("active");
                }
                li.appendChild(a);
                shapeListElement.appendChild(li);
            });
        }

</script>

</body>
</html>